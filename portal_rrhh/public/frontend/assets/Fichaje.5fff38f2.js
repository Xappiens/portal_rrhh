var Q=(A,L,k)=>new Promise((r,_)=>{var w=$=>{try{h(k.next($))}catch(M){_(M)}},b=$=>{try{h(k.throw($))}catch(M){_(M)}},h=$=>$.done?r($.value):Promise.resolve($.value).then(w,b);h((k=k.apply(A,L)).next())});import{a0 as it,r as z,l as q,ak as lt,K as Z,q as P,a8 as dt,al as ct,u as v,o as m,c as f,b as e,t as c,d as j,w as E,_ as G,e as R,Q as X,f as Y,J as tt,am as et,F as V,E as U,n as J,s as st,C as ot,y as at,aa as ut,k as mt}from"./vendor.13deb96d.js";import{d as y}from"./es.883fe910.js";var nt={exports:{}};(function(A,L){(function(k,r){A.exports=r()})(it,function(){var k,r,_=1e3,w=6e4,b=36e5,h=864e5,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M=31536e6,F=2628e6,B=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,T={years:M,months:F,days:h,hours:b,minutes:w,seconds:_,milliseconds:1,weeks:6048e5},O=function(i){return i instanceof n},C=function(i,s,t){return new n(i,t,s.$l)},x=function(i){return r.p(i)+"s"},D=function(i){return i<0},N=function(i){return D(i)?Math.ceil(i):Math.floor(i)},u=function(i){return Math.abs(i)},g=function(i,s){return i?D(i)?{negative:!0,format:""+u(i)+s}:{negative:!1,format:""+i+s}:{negative:!1,format:""}},n=function(){function i(t,o,a){var l=this;if(this.$d={},this.$l=a,t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),o)return C(t*T[x(o)],this);if(typeof t=="number")return this.$ms=t,this.parseFromMilliseconds(),this;if(typeof t=="object")return Object.keys(t).forEach(function(I){l.$d[x(I)]=t[I]}),this.calMilliseconds(),this;if(typeof t=="string"){var d=t.match(B);if(d){var p=d.slice(2).map(function(I){return I!=null?Number(I):0});return this.$d.years=p[0],this.$d.months=p[1],this.$d.weeks=p[2],this.$d.days=p[3],this.$d.hours=p[4],this.$d.minutes=p[5],this.$d.seconds=p[6],this.calMilliseconds(),this}}return this}var s=i.prototype;return s.calMilliseconds=function(){var t=this;this.$ms=Object.keys(this.$d).reduce(function(o,a){return o+(t.$d[a]||0)*T[a]},0)},s.parseFromMilliseconds=function(){var t=this.$ms;this.$d.years=N(t/M),t%=M,this.$d.months=N(t/F),t%=F,this.$d.days=N(t/h),t%=h,this.$d.hours=N(t/b),t%=b,this.$d.minutes=N(t/w),t%=w,this.$d.seconds=N(t/_),t%=_,this.$d.milliseconds=t},s.toISOString=function(){var t=g(this.$d.years,"Y"),o=g(this.$d.months,"M"),a=+this.$d.days||0;this.$d.weeks&&(a+=7*this.$d.weeks);var l=g(a,"D"),d=g(this.$d.hours,"H"),p=g(this.$d.minutes,"M"),I=this.$d.seconds||0;this.$d.milliseconds&&(I+=this.$d.milliseconds/1e3,I=Math.round(1e3*I)/1e3);var H=g(I,"S"),W=t.negative||o.negative||l.negative||d.negative||p.negative||H.negative,rt=d.format||p.format||H.format?"T":"",K=(W?"-":"")+"P"+t.format+o.format+l.format+rt+d.format+p.format+H.format;return K==="P"||K==="-P"?"P0D":K},s.toJSON=function(){return this.toISOString()},s.format=function(t){var o=t||"YYYY-MM-DDTHH:mm:ss",a={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return o.replace($,function(l,d){return d||String(a[l])})},s.as=function(t){return this.$ms/T[x(t)]},s.get=function(t){var o=this.$ms,a=x(t);return a==="milliseconds"?o%=1e3:o=a==="weeks"?N(o/T[a]):this.$d[a],o||0},s.add=function(t,o,a){var l;return l=o?t*T[x(o)]:O(t)?t.$ms:C(t,this).$ms,C(this.$ms+l*(a?-1:1),this)},s.subtract=function(t,o){return this.add(t,o,!0)},s.locale=function(t){var o=this.clone();return o.$l=t,o},s.clone=function(){return C(this.$ms,this)},s.humanize=function(t){return k().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},s.valueOf=function(){return this.asMilliseconds()},s.milliseconds=function(){return this.get("milliseconds")},s.asMilliseconds=function(){return this.as("milliseconds")},s.seconds=function(){return this.get("seconds")},s.asSeconds=function(){return this.as("seconds")},s.minutes=function(){return this.get("minutes")},s.asMinutes=function(){return this.as("minutes")},s.hours=function(){return this.get("hours")},s.asHours=function(){return this.as("hours")},s.days=function(){return this.get("days")},s.asDays=function(){return this.as("days")},s.weeks=function(){return this.get("weeks")},s.asWeeks=function(){return this.as("weeks")},s.months=function(){return this.get("months")},s.asMonths=function(){return this.as("months")},s.years=function(){return this.get("years")},s.asYears=function(){return this.as("years")},i}(),S=function(i,s,t){return i.add(s.years()*t,"y").add(s.months()*t,"M").add(s.days()*t,"d").add(s.hours()*t,"h").add(s.minutes()*t,"m").add(s.seconds()*t,"s").add(s.milliseconds()*t,"ms")};return function(i,s,t){k=t,r=t().$utils(),t.duration=function(l,d){var p=t.locale();return C(l,{$l:p},d)},t.isDuration=O;var o=s.prototype.add,a=s.prototype.subtract;s.prototype.add=function(l,d){return O(l)?S(this,l,1):o.bind(this)(l,d)},s.prototype.subtract=function(l,d){return O(l)?S(this,l,-1):a.bind(this)(l,d)}}})})(nt);var ht=nt.exports;const ft={key:0,class:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4"},gt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={class:"flex flex-col justify-center items-start space-y-4"},pt={class:"text-xl font-bold text-gray-900 leading-tight"},_t={class:"text-sm text-gray-500 mt-1"},yt={key:0,class:"w-full"},bt={class:"mt-4 flex items-center space-x-2"},xt={key:0,class:"flex items-center text-green-600 font-medium"},$t={key:1,class:"flex items-center text-gray-500 font-medium"},kt={class:"bg-gray-50 rounded-lg p-4 border border-gray-100 flex flex-col justify-center space-y-4"},wt={class:"text-right border-b border-gray-200 pb-2"},Mt={class:"text-2xl font-bold text-gray-800"},Yt={class:"text-base text-gray-500 uppercase tracking-wide"},Dt={class:"text-xs text-gray-400 mt-1"},St={class:"grid grid-cols-2 gap-3"},jt={class:"bg-white p-3 rounded shadow-sm border border-gray-100"},Tt={class:"text-[10px] uppercase font-bold text-gray-400 tracking-wider mb-1"},Ot={class:"text-xl font-mono font-semibold text-gray-800"},Ct={class:"bg-white p-3 rounded shadow-sm border border-gray-100"},Nt={class:"text-[10px] uppercase font-bold text-gray-400 tracking-wider mb-1"},It={class:"text-xl font-mono font-semibold text-gray-500"},Ht={class:"text-xs text-center text-gray-400"},zt={class:"flex flex-col items-center justify-center gap-4 py-6"},Et={class:"text-center"},Lt={class:"font-bold text-3xl mb-1"},Ft={class:"font-medium text-gray-500"},Rt={key:0,class:"w-full"},At={key:0,class:"font-medium text-gray-500 text-sm mb-2 text-center"},Bt={key:1,class:"rounded overflow-hidden w-full h-48 border bg-gray-50"},Pt=["src"],Vt={key:2,class:"h-48 bg-gray-100 flex items-center justify-center text-gray-400 rounded"},Ut="Employee Checkin",Jt={__name:"CheckInWidget",setup(A){y.locale("es"),y.extend(ht);const L=o=>y(o).format("HH:mm"),k=o=>{const a=y.duration(o,"seconds"),l=Math.floor(a.asHours()),d=a.minutes(),p=a.seconds();return`${l.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`},r=(o,a)=>{if(!o)return"";let l=o;return a&&a.length&&a.forEach((d,p)=>{l=l.replace(`{${p}}`,d)}),l},_=z(null),w=z(0),b=z(0),h=z(""),$=z(!1),M=z(!1),F=z(0),B=z(0);let T=null;const O=q({url:"hrms.api.get_current_employee_info",auto:!0}),C=q({url:"hrms.api.get_hr_settings",auto:!0}),x=lt({doctype:Ut,fields:["name","log_type","time"],orderBy:"time desc",pageLength:50,auto:!1});Z(()=>O.data,o=>{o&&o.name&&(x.filters={employee:o.name,time:[">=",y().startOf("day").format("YYYY-MM-DD HH:mm:ss")]},x.reload())});const D=P(()=>x.list.loading||!x.data||x.data.length===0?null:x.data[0]),N=P(()=>D.value&&D.value.log_type==="IN"?"check-in":"check-out"),u=P(()=>!D.value||D.value.log_type==="OUT"?{action:"IN",label:r("Entrar")}:{action:"OUT",label:r("Salir")}),g=()=>{if(!x.data)return;const o=[...x.data].sort((H,W)=>new Date(H.time)-new Date(W.time));let a=0,l=0,d=null,p=null;o.forEach((H,W)=>{H.log_type==="IN"?(p&&(l+=y(H.time).diff(p,"second"),p=null),d=y(H.time)):H.log_type==="OUT"&&(d&&(a+=y(H.time).diff(d,"second"),d=null),p=y(H.time))});const I=y();d&&(a+=I.diff(d,"second")),F.value=a,B.value=l};dt(()=>{T=setInterval(()=>{g()},1e3)}),ct(()=>{T&&clearInterval(T)}),Z(()=>x.data,()=>{g()});const n=o=>{w.value=o.coords.latitude,b.value=o.coords.longitude,h.value=[r("Latitud: {0}\xB0",[Number(w.value).toFixed(5)]),r("Longitud: {0}\xB0",[Number(b.value).toFixed(5)])].join(", ")},S=o=>{h.value="No se pudo obtener tu ubicaci\xF3n",o&&(h.value+=`: ERROR(${o.code}): ${o.message}`)},i=()=>{navigator.geolocation?(h.value=r("Localizando..."),navigator.geolocation.getCurrentPosition(n,S)):h.value=r("Geolocalizaci\xF3n no soportada por tu navegador")},s=()=>{var o;_.value=y().format("YYYY-MM-DD HH:mm:ss"),$.value=!0,((o=C.data)==null?void 0:o.allow_geolocation_tracking)&&i()},t=o=>Q(this,null,function*(){const a=r(o==="IN"?"Entrada":"Salida");M.value=!0;try{yield x.insert.submit({employee:O.data.name,log_type:o,time:_.value,latitude:w.value,longitude:b.value}),et({title:r("\xC9xito"),text:r("\xA1{0} registrada correctamente!",[a]),icon:"check-circle",position:"bottom-center",iconClasses:"text-green-500"}),$.value=!1,x.reload()}catch(l){et({title:r("Error"),text:r("\xA1Fallo al registrar {0}!",[a]),icon:"alert-circle",position:"bottom-center",iconClasses:"text-red-500"}),console.error(l)}finally{M.value=!1}});return(o,a)=>{var l;return v(O).data?(m(),f("div",ft,[e("div",gt,[e("div",vt,[e("div",null,[e("h2",pt,c(r("Hola, {0} \u{1F44B}",[v(O).data.first_name])),1),e("p",_t,c(r("Registra tu jornada laboral")),1)]),((l=v(C).data)==null?void 0:l.allow_employee_checkin_from_mobile_app)?(m(),f("div",yt,[j(v(X),{size:"lg",variant:"solid",theme:u.value.action==="IN"?"green":"gray",onClick:s,class:"!px-6 !py-2 !text-base shadow-md w-full md:w-auto justify-center"},{prefix:E(()=>[j(v(G),{name:u.value.action==="IN"?"log-in":"log-out",class:"w-6 h-6 mr-2"},null,8,["name"])]),default:E(()=>[R(" "+c(u.value.label),1)]),_:1},8,["theme"]),e("div",bt,[N.value==="check-in"?(m(),f("div",xt,[a[2]||(a[2]=e("span",{class:"relative flex h-3 w-3 mr-2"},[e("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),e("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-green-500"})],-1)),R(" "+c(r("Actualmente Trabajando")),1)])):(m(),f("div",$t,[a[3]||(a[3]=e("span",{class:"h-3 w-3 rounded-full bg-gray-300 mr-2"},null,-1)),R(" "+c(r("Jornada Pausada / No iniciada")),1)]))])])):Y("",!0)]),e("div",kt,[e("div",wt,[e("div",Mt,c(v(y)().format("D")),1),e("div",Yt,c(v(y)().format("MMMM YYYY")),1),e("div",Dt,c(v(y)().format("dddd")),1)]),e("div",St,[e("div",jt,[e("div",Tt,c(r("Tiempo Trabajado")),1),e("div",Ot,c(k(F.value)),1)]),e("div",Ct,[e("div",Nt,c(r("Tiempo Descanso")),1),e("div",It,c(k(B.value)),1)])]),e("div",Ht,c(r("\xDAltimo registro: {0}",[D.value?L(D.value.time):"--:--"])),1)])]),j(v(tt),{modelValue:$.value,"onUpdate:modelValue":a[1]||(a[1]=d=>$.value=d),options:{title:u.value.label,size:"md"}},{"body-content":E(()=>{var d;return[e("div",zt,[e("div",Et,[e("div",Lt,c(v(y)(_.value).format("HH:mm:ss")),1),e("div",Ft,c(v(y)().format("D MMM, YYYY")),1)]),((d=v(C).data)==null?void 0:d.allow_geolocation_tracking)?(m(),f("div",Rt,[h.value?(m(),f("div",At,c(h.value),1)):Y("",!0),w.value&&b.value?(m(),f("div",Bt,[e("iframe",{width:"100%",height:"100%",frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0",style:{border:"0"},src:`https://maps.google.com/maps?q=${w.value},${b.value}&hl=es&z=15&output=embed`},null,8,Pt)])):(m(),f("div",Vt,c(r("Obteniendo ubicaci\xF3n...")),1))])):Y("",!0)])]}),actions:E(()=>[j(v(X),{variant:"solid",class:"w-full",size:"lg",loading:M.value,onClick:a[0]||(a[0]=d=>t(u.value.action))},{default:E(()=>[R(c(r("Confirmar {0}",[u.value.label])),1)]),_:1},8,["loading"])]),_:1},8,["modelValue","options"])])):Y("",!0)}}},Wt={class:"attendance-calendar"},qt={class:"flex justify-end mb-4"},Gt={class:"flex items-center bg-white rounded-md shadow-sm border border-gray-300"},Kt={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 relative"},Qt={class:"bg-white"},Zt={class:"text-lg font-bold text-gray-900 mb-4 capitalize text-center"},Xt={class:"grid grid-cols-7 gap-px bg-gray-200 border border-gray-200 rounded-lg overflow-hidden"},te={key:0,class:"w-full text-center"},ee={key:0,class:"mt-1"},se={class:"text-lg font-bold text-gray-900"},oe={key:1,class:"mt-1"},ae={key:2,class:"mt-2"},ne={class:"bg-white"},re={class:"text-lg font-bold text-gray-900 mb-4 capitalize text-center"},ie={class:"grid grid-cols-7 gap-px bg-gray-200 border border-gray-200 rounded-lg overflow-hidden"},le={key:0,class:"w-full text-center"},de={key:0,class:"mt-1"},ce={class:"text-lg font-bold text-gray-900"},ue={key:1,class:"mt-1"},me={key:2,class:"mt-2"},he={key:0,class:"absolute inset-0 bg-white/50 z-50 flex items-center justify-center rounded-lg"},fe={class:"bg-white p-3 rounded shadow border flex items-center space-x-3"},ge={class:"text-sm font-medium"},ve={__name:"AttendanceCalendar",props:{employeeId:{type:String,default:null}},setup(A){y.locale("es");const L=A,k=z(!1),r=z({}),_=z(y().startOf("month")),w=P(()=>_.value.add(1,"month")),b=["Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b","Dom"],h=P(()=>O(_.value)),$=P(()=>O(w.value)),M=u=>u.format("MMMM YYYY"),F=u=>u?u.split(",").map(g=>g.trim()):[],B=u=>({missing_out:"bg-orange-400",missing_in:"bg-orange-400",no_break:"bg-yellow-400",no_checkin:"bg-red-400"})[u]||"bg-red-400",T=u=>({missing_out:"Falta fichaje de salida",missing_in:"Falta fichaje de entrada",no_break:"Jornada > 6h sin descanso",no_checkin:"Sin fichaje ni justificaci\xF3n"})[u]||"Anomal\xEDa detectada";function O(u){const g=u.startOf("month"),n=u.endOf("month"),S=u.daysInMonth(),i=[];let s=g.day();s===0&&(s=7),s-=1;for(let a=0;a<s;a++)i.push({inMonth:!1,dayNum:"",date:null});for(let a=1;a<=S;a++){const l=g.date(a).format("YYYY-MM-DD");i.push({inMonth:!0,dayNum:a,date:l,isToday:l===y().format("YYYY-MM-DD"),data:r.value[l]||null})}const t=n.day();let o=0;t!==0&&(o=7-t);for(let a=0;a<o;a++)i.push({inMonth:!1,dayNum:"",date:null});return i}const C=u=>{_.value=_.value.add(u,"month"),D()},x=()=>{_.value=y().startOf("month"),D()},D=()=>Q(this,null,function*(){if(!L.employeeId){r.value={};return}k.value=!0;try{const u=_.value.format("YYYY-MM-DD"),g=w.value.endOf("month").format("YYYY-MM-DD"),n=yield ut("portal_rrhh.api.attendance.get_attendance_report",{employee:L.employeeId,from_date:u,to_date:g});if(n&&n.success&&n.data){const S={};n.data.forEach(i=>{S[i.date]=i}),r.value=S}else r.value={}}catch(u){console.error(u)}finally{k.value=!1}});Z(()=>L.employeeId,()=>{D()},{immediate:!0});const N=u=>u;return(u,g)=>(m(),f("div",Wt,[e("div",qt,[e("div",Gt,[e("button",{onClick:g[0]||(g[0]=n=>C(-1)),class:"p-2 hover:bg-gray-50 border-r border-gray-300 text-gray-600"},[j(v(G),{name:"chevron-left",class:"h-5 w-5"})]),e("button",{onClick:x,class:"px-4 py-2 text-sm font-medium hover:bg-gray-50 text-gray-700 border-r border-gray-300"},c(N("Hoy")),1),e("button",{onClick:g[1]||(g[1]=n=>C(1)),class:"p-2 hover:bg-gray-50 text-gray-600"},[j(v(G),{name:"chevron-right",class:"h-5 w-5"})])])]),e("div",Kt,[e("div",Qt,[e("h3",Zt,c(M(_.value)),1),e("div",Xt,[(m(),f(V,null,U(b,n=>e("div",{key:n,class:"bg-gray-50 py-2 text-center text-xs font-semibold text-gray-500 uppercase"},c(n),1)),64)),(m(!0),f(V,null,U(h.value,(n,S)=>(m(),f("div",{key:S,class:J(["bg-white min-h-[100px] p-2 flex flex-col items-center justify-start relative group transition-colors hover:bg-blue-50",{"bg-gray-50":!n.inMonth,"bg-blue-50":n.isToday}])},[e("span",{class:J(["text-xs font-medium mb-1",n.isToday?"text-blue-600":"text-gray-400"])},c(n.dayNum),3),n.inMonth&&n.data?(m(),f("div",te,[n.data.hours>0?(m(),f("div",ee,[e("span",se,c(n.data.hours)+"h",1)])):Y("",!0),n.data.status?(m(),f("div",oe,[(m(!0),f(V,null,U(F(n.data.status),(i,s)=>(m(),st(v(ot),{key:s,size:"sm",variant:"subtle",theme:"orange",class:"mb-0.5 mx-auto block max-w-full truncate"},{default:E(()=>[R(c(i),1)]),_:2},1024))),128))])):Y("",!0),n.data.anomaly?(m(),f("div",ae,[j(v(at),{text:n.data.anomaly_desc||T(n.data.anomaly)},{default:E(()=>[e("span",{class:J(["h-2.5 w-2.5 rounded-full inline-block cursor-help",B(n.data.anomaly)])},null,2)]),_:2},1032,["text"])])):Y("",!0)])):Y("",!0)],2))),128))])]),e("div",ne,[e("h3",re,c(M(w.value)),1),e("div",ie,[(m(),f(V,null,U(b,n=>e("div",{key:n,class:"bg-gray-50 py-2 text-center text-xs font-semibold text-gray-500 uppercase"},c(n),1)),64)),(m(!0),f(V,null,U($.value,(n,S)=>(m(),f("div",{key:S,class:J(["bg-white min-h-[100px] p-2 flex flex-col items-center justify-start relative group transition-colors hover:bg-blue-50",{"bg-gray-50":!n.inMonth,"bg-blue-50":n.isToday}])},[e("span",{class:J(["text-xs font-medium mb-1",n.isToday?"text-blue-600":"text-gray-400"])},c(n.dayNum),3),n.inMonth&&n.data?(m(),f("div",le,[n.data.hours>0?(m(),f("div",de,[e("span",ce,c(n.data.hours)+"h",1)])):Y("",!0),n.data.status?(m(),f("div",ue,[(m(!0),f(V,null,U(F(n.data.status),(i,s)=>(m(),st(v(ot),{key:s,size:"sm",variant:"subtle",theme:"orange",class:"mb-0.5 mx-auto block max-w-full truncate"},{default:E(()=>[R(c(i),1)]),_:2},1024))),128))])):Y("",!0),n.data.anomaly?(m(),f("div",me,[j(v(at),{text:n.data.anomaly_desc||T(n.data.anomaly)},{default:E(()=>[e("span",{class:J(["h-2.5 w-2.5 rounded-full inline-block cursor-help",B(n.data.anomaly)])},null,2)]),_:2},1032,["text"])])):Y("",!0)])):Y("",!0)],2))),128))])]),k.value?(m(),f("div",he,[e("div",fe,[g[2]||(g[2]=e("div",{class:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"},null,-1)),e("span",ge,c(N("Cargando...")),1)])])):Y("",!0)])]))}},pe={class:"flex flex-col h-full overflow-hidden"},_e={class:"flex-1 overflow-y-auto p-5"},ye={key:0},be={class:"text-lg font-semibold text-gray-800 mb-4"},xe={class:"flex flex-col items-center justify-center p-6 text-center"},$e={class:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mb-4"},Ye={__name:"Fichaje",setup(A){const L=mt(),k=b=>b,r=z(!1);q({url:"portal_rrhh.api.onboarding.has_pending_onboarding",auto:!0,onSuccess:b=>{b.has_pending&&(r.value=!0)}});const _=q({url:"hrms.api.get_current_employee_info",auto:!0}),w=()=>{L.push({name:"Onboarding"})};return(b,h)=>(m(),f("div",pe,[e("div",_e,[j(Jt),v(_).data?(m(),f("div",ye,[e("h3",be,c(k("Mi Asistencia")),1),j(ve,{employeeId:v(_).data.name},null,8,["employeeId"])])):Y("",!0)]),j(v(tt),{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=$=>r.value=$),options:{size:"xl",preventClose:!0}},{"body-content":E(()=>[e("div",xe,[e("div",$e,[j(v(G),{name:"alert-circle",class:"w-8 h-8 text-orange-600"})]),h[2]||(h[2]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"}," Acci\xF3n Requerida ",-1)),h[3]||(h[3]=e("p",{class:"text-lg text-gray-600 mb-6"},[R(" No puedes registrar tu jornada hasta completar tu proceso de onboarding. "),e("br"),R(" Por favor, revisa y firma los documentos pendientes. ")],-1)),j(v(X),{variant:"solid",size:"xl",onClick:w},{default:E(()=>[...h[1]||(h[1]=[R(" Ir al Onboarding ",-1)])]),_:1})])]),actions:E(()=>[...h[4]||(h[4]=[e("div",null,null,-1)])]),_:1},8,["modelValue"])]))}};export{Ye as default};
