var T=(X,$,i)=>new Promise((x,h)=>{var L=_=>{try{w(i.next(_))}catch(y){h(y)}},F=_=>{try{w(i.throw(_))}catch(y){h(y)}},w=_=>_.done?x(_.value):Promise.resolve(_.value).then(L,F);w((i=i.apply(X,$)).next())});import{r as f,q as W,K as ye,a8 as pe,o as l,c as n,b as e,t as o,d,u as r,_ as c,n as E,F as j,E as S,e as v,s as V,C as z,f as u,a6 as N,w as M,R as he,Q as B,A as be,aa as P}from"./vendor.0086aa74.js";const fe={class:"flex-1 p-4 bg-gray-50 overflow-y-auto"},we={class:"mb-4"},ke={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},De={class:"bg-blue-600 text-white rounded-lg p-3"},Ce={class:"flex items-center justify-between"},je={class:"text-2xl font-bold"},Se={class:"flex items-center justify-between"},ze={class:"bg-white border border-gray-200 rounded-lg p-3"},Me={class:"flex items-center justify-between"},Te={class:"text-2xl font-bold text-green-600"},Ee={class:"bg-white border border-gray-200 rounded-lg p-3"},Ae={class:"flex items-center justify-between"},Be={class:"text-2xl font-bold text-red-600"},Pe={key:0,class:"bg-white rounded-lg border border-gray-200 p-6 text-center"},$e={key:1},Le={class:"bg-white rounded-lg border border-gray-200"},He={class:"border-b border-gray-200"},Re={class:"flex -mb-px text-sm"},Ve=["onClick"],Ne={class:"p-4"},Fe={key:0},Ie={class:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-4"},Oe={class:"bg-gray-50 rounded-lg p-3"},Qe={class:"flex items-center justify-between mb-2"},qe={class:"text-sm font-medium text-gray-900 flex items-center"},Ue={key:0,class:"space-y-2 max-h-48 overflow-y-auto"},We={class:"flex-1 min-w-0"},Ye={class:"font-medium text-gray-900 truncate"},Je={class:"text-gray-500"},Ke={class:"flex space-x-1 ml-2"},Xe={key:1,class:"text-center py-4 text-gray-400 text-xs"},Ge={class:"bg-gray-50 rounded-lg p-3"},Ze={class:"flex items-center justify-between mb-2"},et={class:"text-sm font-medium text-gray-900 flex items-center"},tt={key:0,class:"space-y-2 max-h-48 overflow-y-auto"},st={class:"w-7 h-7 rounded-full bg-blue-100 flex items-center justify-center mr-2 flex-shrink-0"},at={class:"text-xs font-medium text-blue-600"},lt={class:"flex-1 min-w-0"},nt={class:"font-medium text-gray-900 truncate"},ot={class:"text-gray-500"},rt={key:1,class:"text-center py-4 text-gray-400 text-xs"},it={class:"bg-gray-50 rounded-lg p-3"},dt={class:"flex items-center justify-between mb-2"},ct={class:"text-sm font-medium text-gray-900 flex items-center"},ut={key:0,class:"space-y-2"},mt={class:"h-2 bg-gray-200 rounded-full overflow-hidden flex"},vt={class:"grid grid-cols-2 gap-1 text-xs"},gt={class:"flex items-center"},xt={class:"text-gray-600"},_t={class:"flex items-center"},yt={class:"text-gray-600"},pt={class:"flex items-center"},ht={class:"text-gray-600"},bt={class:"flex items-center"},ft={class:"text-gray-600"},wt={key:0,class:"text-xs text-gray-500 pt-1 border-t border-gray-200"},kt={class:"bg-gray-50 rounded-lg p-3"},Dt={class:"flex items-center justify-between mb-2"},Ct={class:"text-sm font-medium text-gray-900 flex items-center"},jt={key:0,class:"space-y-2"},St={class:"grid grid-cols-2 gap-2"},zt={class:"p-2 bg-green-50 rounded text-center"},Mt={class:"text-lg font-bold text-green-600"},Tt={class:"p-2 bg-amber-50 rounded text-center"},Et={class:"text-lg font-bold text-amber-600"},At={key:0,class:"space-y-1 max-h-24 overflow-y-auto"},Bt={class:"font-medium text-gray-900 truncate"},Pt={key:0,class:"mt-4 bg-gray-50 rounded-lg p-3"},$t={class:"flex items-center justify-between mb-2"},Lt={class:"text-sm font-medium text-gray-900 flex items-center"},Ht={class:"grid grid-cols-4 gap-3 text-center"},Rt={class:"text-lg font-bold text-gray-900"},Vt={class:"text-lg font-bold text-amber-600"},Nt={class:"text-lg font-bold text-green-600"},Ft={class:"text-lg font-bold text-blue-600"},It={key:1},Ot={key:0,class:"space-y-2"},Qt={class:"flex items-center space-x-3"},qt={class:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0"},Ut={class:"text-xs font-medium text-blue-600"},Wt={class:"text-sm font-medium text-gray-900"},Yt={class:"text-xs text-gray-500 flex items-center space-x-2"},Jt={key:0,class:"text-xs text-gray-500 mt-1"},Kt={class:"flex space-x-2"},Xt={key:1,class:"text-center py-8"},Gt={key:2},Zt={class:"mb-3"},es={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3"},ts={class:"flex items-start space-x-2"},ss={class:"flex-shrink-0"},as=["src","alt"],ls={key:1,class:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center"},ns={class:"text-xs font-medium text-blue-600"},os={class:"flex-1 min-w-0"},rs={class:"text-sm font-medium text-gray-900 truncate"},is={class:"text-xs text-gray-500 truncate"},ds={class:"flex flex-wrap gap-1 mt-1.5"},cs={key:0,class:"text-center py-8 text-gray-400"},us={key:3},ms={class:"mb-3 flex items-center justify-between"},vs={class:"flex items-center space-x-2"},gs={class:"text-sm font-medium text-gray-900 w-32 text-center"},xs={class:"bg-white border border-gray-200 rounded-lg overflow-hidden"},_s={class:"grid grid-cols-7 bg-gray-50 border-b border-gray-200"},ys={class:"grid grid-cols-7"},ps={class:"space-y-0.5"},hs=["title"],bs={key:0,class:"text-[10px] text-gray-500"},fs={key:4},ws={key:0,class:"space-y-3"},ks={class:"grid grid-cols-4 gap-3"},Ds={class:"bg-gray-50 rounded-lg p-3 text-center"},Cs={class:"text-xl font-bold text-gray-900"},js={class:"bg-gray-50 rounded-lg p-3 text-center"},Ss={class:"text-xl font-bold text-amber-600"},zs={class:"bg-gray-50 rounded-lg p-3 text-center"},Ms={class:"text-xl font-bold text-green-600"},Ts={class:"bg-gray-50 rounded-lg p-3 text-center"},Es={class:"text-xl font-bold text-blue-600"},As={key:0,class:"space-y-2"},Bs={class:"flex items-center space-x-2"},Ps={class:"w-7 h-7 rounded-full bg-indigo-100 flex items-center justify-center"},$s={class:"font-medium text-gray-900 text-xs"},Ls={class:"text-xs text-gray-500"},Hs={class:"flex items-center space-x-2"},Rs={class:"font-semibold text-gray-900"},Fs={__name:"Departamentos",setup(X){const $=f(!0),i=f(null),x=f({team_size:0,pending_approvals:0,on_leave_today:0,present_today:0}),h=f({leave_requests:[],attendance_requests:[]}),L=f([]),F=f([]),w=f(null),_=f(""),y=f("overview"),de=W(()=>{var a;return[{id:"overview",label:"Resumen",icon:"grid",badge:null},{id:"approvals",label:"Aprobaciones",icon:"check-square",badge:((a=h.value.leave_requests)==null?void 0:a.length)||0},{id:"team",label:"Equipo",icon:"users",badge:null},{id:"calendar",label:"Calendario",icon:"calendar",badge:null},{id:"timesheets",label:"Timesheets",icon:"clock",badge:null}]}),g=f(new Date().getMonth()),b=f(new Date().getFullYear()),ce=["L","M","X","J","V","S","D"],ue=W(()=>new Date(b.value,g.value).toLocaleString("es-ES",{month:"short",year:"numeric"})),me=W(()=>{const a=[],t=new Date(b.value,g.value,1),k=new Date(b.value,g.value+1,0),D=new Date;let p=t.getDay()-1;p<0&&(p=6);const Q=new Date(b.value,g.value,0).getDate();for(let m=p-1;m>=0;m--){const C=Q-m,U=new Date(b.value,g.value-1,C);a.push({date:C,fullDate:U.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1})}for(let m=1;m<=k.getDate();m++){const C=new Date(b.value,g.value,m);a.push({date:m,fullDate:C.toISOString().split("T")[0],isCurrentMonth:!0,isToday:C.toDateString()===D.toDateString()})}const q=42-a.length;for(let m=1;m<=q;m++){const C=new Date(b.value,g.value+1,m);a.push({date:m,fullDate:C.toISOString().split("T")[0],isCurrentMonth:!1,isToday:!1})}return a}),G=W(()=>{if(!_.value)return L.value;const a=_.value.toLowerCase();return L.value.filter(t=>{var k,D,p;return((k=t.employee_name)==null?void 0:k.toLowerCase().includes(a))||((D=t.department)==null?void 0:D.toLowerCase().includes(a))||((p=t.designation)==null?void 0:p.toLowerCase().includes(a))})}),ve=()=>T(this,null,function*(){$.value=!0,yield Promise.all([Z(),ee(),te(),ge(),Y()]),$.value=!1}),Z=()=>T(this,null,function*(){try{const a=yield P("portal_rrhh.api.department.get_department_dashboard");a.success&&(i.value=a.data)}catch(a){console.error("Error loading dashboard:",a)}}),ee=()=>T(this,null,function*(){try{const a=yield P("portal_rrhh.api.department.get_department_stats");x.value=a}catch(a){console.error("Error loading stats:",a)}}),te=()=>T(this,null,function*(){try{const a=yield P("portal_rrhh.api.department.get_pending_approvals");h.value=a}catch(a){console.error("Error loading approvals:",a)}}),ge=()=>T(this,null,function*(){try{const a=yield P("portal_rrhh.api.department.get_team_members");L.value=a}catch(a){console.error("Error loading team:",a)}}),Y=()=>T(this,null,function*(){try{const a=yield P("portal_rrhh.api.department.get_leave_calendar",{month:g.value+1,year:b.value});F.value=a}catch(a){console.error("Error loading calendar:",a)}}),I=(a,t)=>T(this,null,function*(){w.value=a;try{yield P("portal_rrhh.api.department.approve_leave_request",{name:a,action:t}),yield Promise.all([te(),ee(),Z()])}catch(k){console.error("Error processing request:",k)}finally{w.value=null}}),se=a=>{g.value+=a,g.value>11?(g.value=0,b.value++):g.value<0&&(g.value=11,b.value--),Y()},J=a=>F.value.filter(t=>a>=t.start&&a<=t.end),H=a=>a?new Date(a).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}):"",K=a=>a?a.split(" ").map(t=>t[0]).slice(0,2).join("").toUpperCase():"?",O=a=>{var D,p;const t=x.value.team_size||1;return((((p=(D=i.value)==null?void 0:D.attendance_summary)==null?void 0:p.today)||{})[a]||0)/t*100},xe=a=>({Present:"Presente",Absent:"Ausente","On Leave":"Baja","Work From Home":"Remoto","Half Day":"Medio d\xEDa"})[a]||a,_e=a=>({Present:"green",Absent:"red","On Leave":"orange","Work From Home":"purple","Half Day":"blue"})[a]||"gray";return ye([g,b],()=>Y()),pe(()=>ve()),(a,t)=>{var k,D,p,Q,q,m,C,U,ae,le,ne,oe,re,ie;return l(),n("div",fe,[e("div",we,[e("div",ke,[e("div",De,[e("div",Ce,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-blue-100 text-xs"},"Mi Equipo",-1)),e("p",je,o(x.value.team_size),1)]),d(r(c),{name:"users",class:"h-5 w-5 text-blue-200"})])]),e("div",{class:E(["rounded-lg p-3 cursor-pointer hover:shadow-md transition-all",x.value.pending_approvals>0?"bg-amber-500 text-white":"bg-white border border-gray-200"]),onClick:t[0]||(t[0]=s=>y.value="approvals")},[e("div",Se,[e("div",null,[e("p",{class:E([x.value.pending_approvals>0?"text-amber-100":"text-gray-500","text-xs"])},"Pendientes",2),e("p",{class:E(["text-2xl font-bold",x.value.pending_approvals>0?"":"text-gray-900"])},o(x.value.pending_approvals),3)]),d(r(c),{name:"clock",class:E([x.value.pending_approvals>0?"text-amber-200":"text-amber-500","h-5 w-5"])},null,8,["class"])])],2),e("div",ze,[e("div",Me,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-500 text-xs"},"Presentes Hoy",-1)),e("p",Te,o(x.value.present_today),1)]),d(r(c),{name:"check-circle",class:"h-5 w-5 text-green-500"})])]),e("div",Ee,[e("div",Ae,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-gray-500 text-xs"},"De Baja Hoy",-1)),e("p",Be,o(x.value.on_leave_today),1)]),d(r(c),{name:"calendar-minus",class:"h-5 w-5 text-red-500"})])])])]),!$.value&&!i.value?(l(),n("div",Pe,[d(r(c),{name:"users",class:"h-8 w-8 text-gray-400 mx-auto mb-2"}),t[7]||(t[7]=e("h3",{class:"text-sm font-medium text-gray-900 mb-1"},"No tienes empleados asignados",-1)),t[8]||(t[8]=e("p",{class:"text-xs text-gray-600"},"Contacta con RRHH si crees que deber\xEDas tener acceso a la gesti\xF3n de un equipo.",-1))])):(l(),n("div",$e,[e("div",Le,[e("div",He,[e("nav",Re,[(l(!0),n(j,null,S(de.value,s=>(l(),n("button",{key:s.id,onClick:A=>y.value=s.id,class:E(["flex items-center px-4 py-2 font-medium border-b-2 transition-colors",y.value===s.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[d(r(c),{name:s.icon,class:"h-3.5 w-3.5 mr-1.5"},null,8,["name"]),v(" "+o(s.label)+" ",1),s.badge&&s.badge>0?(l(),V(r(z),{key:0,label:String(s.badge),variant:"solid",theme:"red",size:"sm",class:"ml-1.5"},null,8,["label"])):u("",!0)],10,Ve))),128))])]),e("div",Ne,[y.value==="overview"?(l(),n("div",Fe,[e("div",Ie,[e("div",Oe,[e("div",Qe,[e("h3",qe,[d(r(c),{name:"clock",class:"h-4 w-4 text-amber-500 mr-1.5"}),t[9]||(t[9]=v(" Solicitudes Pendientes ",-1))]),((k=h.value.leave_requests)==null?void 0:k.length)>0?(l(),V(r(z),{key:0,label:String(h.value.leave_requests.length),theme:"orange",variant:"subtle",size:"sm"},null,8,["label"])):u("",!0)]),((D=h.value.leave_requests)==null?void 0:D.length)>0?(l(),n("div",Ue,[(l(!0),n(j,null,S(h.value.leave_requests.slice(0,4),s=>(l(),n("div",{key:s.name,class:"flex items-center justify-between p-2 bg-white rounded border border-gray-100 text-xs"},[e("div",We,[e("div",Ye,o(s.employee_name),1),e("div",Je,o(H(s.from_date))+" \xB7 "+o(s.total_days)+"d",1)]),e("div",Ke,[d(r(B),{variant:"solid",theme:"green",size:"sm",onClick:A=>I(s.name,"approve"),loading:w.value===s.name},{default:M(()=>[d(r(c),{name:"check",class:"h-3 w-3"})]),_:1},8,["onClick","loading"]),d(r(B),{variant:"subtle",theme:"red",size:"sm",onClick:A=>I(s.name,"reject"),loading:w.value===s.name},{default:M(()=>[d(r(c),{name:"x",class:"h-3 w-3"})]),_:1},8,["onClick","loading"])])]))),128))])):(l(),n("div",Xe,[d(r(c),{name:"check-circle",class:"h-6 w-6 mx-auto mb-1"}),t[10]||(t[10]=v(" Sin pendientes ",-1))]))]),e("div",Ge,[e("div",Ze,[e("h3",et,[d(r(c),{name:"calendar",class:"h-4 w-4 text-blue-500 mr-1.5"}),t[11]||(t[11]=v(" Pr\xF3ximas Ausencias ",-1))])]),((q=(Q=(p=i.value)==null?void 0:p.leave_summary)==null?void 0:Q.upcoming_leaves)==null?void 0:q.length)>0?(l(),n("div",tt,[(l(!0),n(j,null,S(i.value.leave_summary.upcoming_leaves.slice(0,4),s=>(l(),n("div",{key:s.name,class:"flex items-center p-2 bg-white rounded border border-gray-100 text-xs"},[e("div",st,[e("span",at,o(K(s.employee_name)),1)]),e("div",lt,[e("div",nt,o(s.employee_name),1),e("div",ot,o(H(s.from_date)),1)]),d(r(z),{label:`${s.total_days}d`,variant:"subtle",size:"sm"},null,8,["label"])]))),128))])):(l(),n("div",rt,[d(r(c),{name:"sun",class:"h-6 w-6 mx-auto mb-1"}),t[12]||(t[12]=v(" Sin ausencias ",-1))]))]),e("div",it,[e("div",dt,[e("h3",ct,[d(r(c),{name:"clock",class:"h-4 w-4 text-green-500 mr-1.5"}),t[13]||(t[13]=v(" Asistencia Hoy ",-1))])]),((C=(m=i.value)==null?void 0:m.attendance_summary)==null?void 0:C.today)?(l(),n("div",ut,[e("div",mt,[e("div",{class:"h-full bg-green-500",style:N({width:O("present")+"%"})},null,4),e("div",{class:"h-full bg-purple-500",style:N({width:O("wfh")+"%"})},null,4),e("div",{class:"h-full bg-amber-500",style:N({width:O("on_leave")+"%"})},null,4),e("div",{class:"h-full bg-red-500",style:N({width:O("absent")+"%"})},null,4)]),e("div",vt,[e("div",gt,[t[15]||(t[15]=e("div",{class:"w-2 h-2 bg-green-500 rounded-full mr-1.5"},null,-1)),e("span",xt,[t[14]||(t[14]=v("Presentes: ",-1)),e("strong",null,o(i.value.attendance_summary.today.present),1)])]),e("div",_t,[t[17]||(t[17]=e("div",{class:"w-2 h-2 bg-purple-500 rounded-full mr-1.5"},null,-1)),e("span",yt,[t[16]||(t[16]=v("Remoto: ",-1)),e("strong",null,o(i.value.attendance_summary.today.wfh),1)])]),e("div",pt,[t[19]||(t[19]=e("div",{class:"w-2 h-2 bg-amber-500 rounded-full mr-1.5"},null,-1)),e("span",ht,[t[18]||(t[18]=v("Baja: ",-1)),e("strong",null,o(i.value.attendance_summary.today.on_leave),1)])]),e("div",bt,[t[21]||(t[21]=e("div",{class:"w-2 h-2 bg-red-500 rounded-full mr-1.5"},null,-1)),e("span",ft,[t[20]||(t[20]=v("Ausentes: ",-1)),e("strong",null,o(i.value.attendance_summary.today.absent),1)])])]),i.value.attendance_summary.today.no_record>0?(l(),n("div",wt,[e("strong",null,o(i.value.attendance_summary.today.no_record),1),t[22]||(t[22]=v(" sin registro ",-1))])):u("",!0)])):u("",!0)]),e("div",kt,[e("div",Dt,[e("h3",Ct,[d(r(c),{name:"file-text",class:"h-4 w-4 text-indigo-500 mr-1.5"}),t[23]||(t[23]=v(" Contratos ",-1))])]),((U=i.value)==null?void 0:U.job_offer_summary)?(l(),n("div",jt,[e("div",St,[e("div",zt,[e("p",Mt,o(i.value.job_offer_summary.active),1),t[24]||(t[24]=e("p",{class:"text-xs text-green-700"},"Activos",-1))]),e("div",Tt,[e("p",Et,o(((ae=i.value.job_offer_summary.expiring_soon)==null?void 0:ae.length)||0),1),t[25]||(t[25]=e("p",{class:"text-xs text-amber-700"},"Por vencer",-1))])]),((le=i.value.job_offer_summary.expiring_soon)==null?void 0:le.length)>0?(l(),n("div",At,[(l(!0),n(j,null,S(i.value.job_offer_summary.expiring_soon.slice(0,2),s=>(l(),n("div",{key:s.name,class:"flex items-center justify-between p-1.5 bg-amber-50 rounded text-xs"},[e("span",Bt,o(s.applicant_name),1),d(r(z),{label:`${s.days_until_expiry}d`,theme:"orange",variant:"subtle",size:"sm"},null,8,["label"])]))),128))])):u("",!0)])):u("",!0)])]),((ne=i.value)==null?void 0:ne.timesheet_summary)?(l(),n("div",Pt,[e("div",$t,[e("h3",Lt,[d(r(c),{name:"clock",class:"h-4 w-4 text-indigo-500 mr-1.5"}),t[26]||(t[26]=v(" Timesheets del Mes ",-1))])]),e("div",Ht,[e("div",null,[e("p",Rt,o(i.value.timesheet_summary.total),1),t[27]||(t[27]=e("p",{class:"text-xs text-gray-500"},"Total",-1))]),e("div",null,[e("p",Vt,o(i.value.timesheet_summary.draft),1),t[28]||(t[28]=e("p",{class:"text-xs text-gray-500"},"Borradores",-1))]),e("div",null,[e("p",Nt,o(i.value.timesheet_summary.submitted),1),t[29]||(t[29]=e("p",{class:"text-xs text-gray-500"},"Enviados",-1))]),e("div",null,[e("p",Ft,o(i.value.timesheet_summary.total_hours)+"h",1),t[30]||(t[30]=e("p",{class:"text-xs text-gray-500"},"Horas",-1))])])])):u("",!0)])):u("",!0),y.value==="approvals"?(l(),n("div",It,[((oe=h.value.leave_requests)==null?void 0:oe.length)>0?(l(),n("div",Ot,[(l(!0),n(j,null,S(h.value.leave_requests,s=>(l(),n("div",{key:s.name,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",Qt,[e("div",qt,[e("span",Ut,o(K(s.employee_name)),1)]),e("div",null,[e("div",Wt,o(s.employee_name),1),e("div",Yt,[d(r(z),{label:s.leave_type,theme:"blue",variant:"subtle",size:"sm"},null,8,["label"]),e("span",null,o(H(s.from_date))+" - "+o(H(s.to_date)),1),e("span",null,"("+o(s.total_days)+" d\xEDas)",1)]),s.description?(l(),n("p",Jt,o(s.description),1)):u("",!0)])]),e("div",Kt,[d(r(B),{variant:"solid",theme:"green",size:"sm",onClick:A=>I(s.name,"approve"),loading:w.value===s.name},{prefix:M(()=>[d(r(c),{name:"check",class:"h-3.5 w-3.5"})]),default:M(()=>[t[31]||(t[31]=v(" Aprobar ",-1))]),_:1},8,["onClick","loading"]),d(r(B),{variant:"subtle",theme:"red",size:"sm",onClick:A=>I(s.name,"reject"),loading:w.value===s.name},{prefix:M(()=>[d(r(c),{name:"x",class:"h-3.5 w-3.5"})]),default:M(()=>[t[32]||(t[32]=v(" Rechazar ",-1))]),_:1},8,["onClick","loading"])])]))),128))])):(l(),n("div",Xt,[d(r(c),{name:"check-circle",class:"h-10 w-10 text-green-200 mx-auto mb-2"}),t[33]||(t[33]=e("h3",{class:"text-sm font-medium text-gray-900"},"\xA1Todo al d\xEDa!",-1)),t[34]||(t[34]=e("p",{class:"text-xs text-gray-500"},"No hay solicitudes pendientes.",-1))]))])):u("",!0),y.value==="team"?(l(),n("div",Gt,[e("div",Zt,[d(r(he),{modelValue:_.value,"onUpdate:modelValue":t[1]||(t[1]=s=>_.value=s),type:"text",placeholder:"Buscar empleado...",size:"sm"},{prefix:M(()=>[d(r(c),{name:"search",class:"h-3.5 w-3.5 text-gray-400"})]),_:1},8,["modelValue"])]),e("div",es,[(l(!0),n(j,null,S(G.value,s=>(l(),n("div",{key:s.name,class:"bg-gray-50 rounded-lg p-3"},[e("div",ts,[e("div",ss,[s.image?(l(),n("img",{key:0,src:s.image,alt:s.employee_name,class:"w-8 h-8 rounded-full object-cover"},null,8,as)):(l(),n("div",ls,[e("span",ns,o(K(s.employee_name)),1)]))]),e("div",os,[e("h4",rs,o(s.employee_name),1),e("p",is,o(s.designation||"Sin cargo"),1),e("div",ds,[s.today_attendance?(l(),V(r(z),{key:0,label:xe(s.today_attendance.status),theme:_e(s.today_attendance.status),variant:"subtle",size:"sm"},null,8,["label","theme"])):(l(),V(r(z),{key:1,label:"Sin fichar",theme:"gray",variant:"subtle",size:"sm"})),s.pending_leaves>0?(l(),V(r(z),{key:2,label:`${s.pending_leaves} pend.`,theme:"orange",variant:"subtle",size:"sm"},null,8,["label"])):u("",!0)])])])]))),128))]),G.value.length===0?(l(),n("div",cs,[d(r(c),{name:"users",class:"h-8 w-8 mx-auto mb-2"}),t[35]||(t[35]=e("p",{class:"text-sm"},"No se encontraron empleados",-1))])):u("",!0)])):u("",!0),y.value==="calendar"?(l(),n("div",us,[e("div",ms,[e("div",vs,[d(r(B),{variant:"ghost",size:"sm",onClick:t[2]||(t[2]=s=>se(-1))},{default:M(()=>[d(r(c),{name:"chevron-left",class:"h-4 w-4"})]),_:1}),e("span",gs,o(ue.value),1),d(r(B),{variant:"ghost",size:"sm",onClick:t[3]||(t[3]=s=>se(1))},{default:M(()=>[d(r(c),{name:"chevron-right",class:"h-4 w-4"})]),_:1})]),t[36]||(t[36]=be('<div class="flex items-center space-x-3 text-xs"><div class="flex items-center"><div class="w-2 h-2 bg-blue-500 rounded-full mr-1"></div>Vacaciones</div><div class="flex items-center"><div class="w-2 h-2 bg-green-500 rounded-full mr-1"></div>Permiso</div><div class="flex items-center"><div class="w-2 h-2 bg-red-500 rounded-full mr-1"></div>Baja</div></div>',1))]),e("div",xs,[e("div",_s,[(l(),n(j,null,S(ce,s=>e("div",{key:s,class:"p-2 text-center text-xs font-medium text-gray-600"},o(s),1)),64))]),e("div",ys,[(l(!0),n(j,null,S(me.value,(s,A)=>(l(),n("div",{key:A,class:E(["min-h-16 p-1 border-b border-r border-gray-100 text-xs",{"bg-gray-50":!s.isCurrentMonth,"bg-blue-50":s.isToday}])},[e("div",{class:E(["font-medium mb-0.5",{"text-gray-400":!s.isCurrentMonth,"text-blue-600":s.isToday,"text-gray-700":s.isCurrentMonth&&!s.isToday}])},o(s.date),3),e("div",ps,[(l(!0),n(j,null,S(J(s.fullDate).slice(0,2),R=>(l(),n("div",{key:R.id,class:"px-1 py-0.5 rounded text-white truncate text-[10px]",style:N({backgroundColor:R.color}),title:`${R.title} - ${R.subtitle}`},o(R.title),13,hs))),128)),J(s.fullDate).length>2?(l(),n("div",bs," +"+o(J(s.fullDate).length-2)+" m\xE1s ",1)):u("",!0)])],2))),128))])])])):u("",!0),y.value==="timesheets"?(l(),n("div",fs,[((re=i.value)==null?void 0:re.timesheet_summary)?(l(),n("div",ws,[e("div",ks,[e("div",Ds,[e("p",Cs,o(i.value.timesheet_summary.total),1),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500"},"Total",-1))]),e("div",js,[e("p",Ss,o(i.value.timesheet_summary.draft),1),t[38]||(t[38]=e("p",{class:"text-xs text-gray-500"},"Borradores",-1))]),e("div",zs,[e("p",Ms,o(i.value.timesheet_summary.submitted),1),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500"},"Enviados",-1))]),e("div",Ts,[e("p",Es,o(i.value.timesheet_summary.total_hours)+"h",1),t[40]||(t[40]=e("p",{class:"text-xs text-gray-500"},"Horas",-1))])]),((ie=i.value.timesheet_summary.recent)==null?void 0:ie.length)>0?(l(),n("div",As,[t[41]||(t[41]=e("h4",{class:"text-sm font-medium text-gray-900"},"Recientes",-1)),(l(!0),n(j,null,S(i.value.timesheet_summary.recent,s=>(l(),n("div",{key:s.name,class:"flex items-center justify-between p-2 bg-gray-50 rounded-lg text-sm"},[e("div",Bs,[e("div",Ps,[d(r(c),{name:"clock",class:"h-3.5 w-3.5 text-indigo-600"})]),e("div",null,[e("p",$s,o(s.employee_name),1),e("p",Ls,o(H(s.start_date)),1)])]),e("div",Hs,[e("span",Rs,o(s.total_hours)+"h",1),d(r(z),{label:s.docstatus===1?"Enviado":"Borrador",theme:s.docstatus===1?"green":"orange",variant:"subtle",size:"sm"},null,8,["label","theme"])])]))),128))])):u("",!0)])):u("",!0)])):u("",!0)])])]))])}}};export{Fs as default};
