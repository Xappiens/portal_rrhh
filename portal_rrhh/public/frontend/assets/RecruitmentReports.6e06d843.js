var c=(o,e,a)=>new Promise((g,s)=>{var n=u=>{try{h(a.next(u))}catch(_){s(_)}},r=u=>{try{h(a.throw(u))}catch(_){s(_)}},h=u=>u.done?g(u.value):Promise.resolve(u.value).then(n,r);h((a=a.apply(o,e)).next())});import{q as k,Z as m,o as i,c as l,b as t,e as b,$ as I,a0 as R,X as f,Y as x,f as p,t as d,F as v,x as w,a1 as O,s as C,n as y}from"./vendor.209ea08f.js";const j={name:"RecruitmentReports",props:{jobOpening:String},data(){return{report:null,isGenerating:!1,error:null,formJobOpening:"",pollingAttempts:0,pollingInterval:null,jobOpeningData:null,loadingJobOpening:!1,jobOpeningsList:[],loadingJobOpenings:!1,exportingPDF:!1,exportingExcel:!1,availableReports:[],loadingReports:!1,allReports:[],openingSearchText:"",showOpeningDropdown:!1,highlightedOpeningIndex:-1}},computed:{effectiveJobOpening(){return this.formJobOpening||this.jobOpening||this.$route.params.jobOpening||this.$route.query.opening||""},canGenerate(){return this.formJobOpening},filteredOpenings(){if(!this.openingSearchText)return this.jobOpeningsList;const o=this.openingSearchText.toLowerCase();return this.jobOpeningsList.filter(e=>{const a=(e.job_title||"").toLowerCase(),g=(e.designation||"").toLowerCase(),s=(e.name||"").toLowerCase();return a.includes(o)||g.includes(o)||s.includes(o)})}},mounted(){this.loadJobOpeningsList(),this.loadAllReports(),this.$route.query.reportId?this.loadReportById(this.$route.query.reportId):this.effectiveJobOpening&&(this.loadJobOpeningData(),this.loadExistingReports())},watch:{effectiveJobOpening(o){o&&(this.jobOpeningData||this.loadJobOpeningData(),this.loadExistingReports())}},beforeUnmount(){this.pollingInterval&&clearTimeout(this.pollingInterval)},methods:{clearInputs(){this.formJobOpening="",this.openingSearchText="",this.showOpeningDropdown=!1,this.report=null,this.error=null,this.isGenerating=!1,this.jobOpeningData=null,this.availableReports=[],this.loadAllReports()},clearOpening(){this.formJobOpening="",this.openingSearchText="",this.showOpeningDropdown=!1,this.jobOpeningData=null},selectOpening(o){this.formJobOpening=o.name,this.openingSearchText=o.job_title||o.name,this.showOpeningDropdown=!1,this.highlightedOpeningIndex=-1,this.onJobOpeningChange()},onOpeningSearchInput(){const o=this.openingSearchText.trim();if(o){const e=this.jobOpeningsList.find(a=>{const g=o.toLowerCase(),s=a.name&&a.name.toLowerCase()===g,n=a.job_title&&a.job_title.toLowerCase()===g,r=a.designation&&a.designation.toLowerCase()===g;return s||n||r});e?(this.formJobOpening=e.name,this.openingSearchText=e.job_title||e.name):this.formJobOpening=o}else this.formJobOpening="";this.showOpeningDropdown&&(this.highlightedOpeningIndex=-1)},onOpeningFocus(){this.jobOpeningsList.length>0&&(this.showOpeningDropdown=!0)},toggleOpeningDropdown(){this.showOpeningDropdown=!this.showOpeningDropdown,this.showOpeningDropdown&&(this.highlightedOpeningIndex=-1)},handleOpeningBlur(){setTimeout(()=>{if(this.showOpeningDropdown=!1,this.formJobOpening){const o=this.jobOpeningsList.find(e=>e.name===this.formJobOpening);o&&(this.openingSearchText=o.job_title||o.name)}},200)},getOpeningDisplayName(o){const e=this.jobOpeningsList.find(a=>a.name===o);return e?e.job_title||e.name:o},handleOpeningEnter(){this.highlightedOpeningIndex>=0&&this.filteredOpenings[this.highlightedOpeningIndex]?this.selectOpening(this.filteredOpenings[this.highlightedOpeningIndex]):this.filteredOpenings.length>0?this.selectOpening(this.filteredOpenings[0]):this.openingSearchText.trim()&&(this.formJobOpening=this.openingSearchText.trim(),this.showOpeningDropdown=!1,this.onJobOpeningChange())},navigateOpeningDropdown(o){!this.showOpeningDropdown||this.filteredOpenings.length===0||(this.highlightedOpeningIndex+=o,this.highlightedOpeningIndex<0?this.highlightedOpeningIndex=this.filteredOpenings.length-1:this.highlightedOpeningIndex>=this.filteredOpenings.length&&(this.highlightedOpeningIndex=0),this.$nextTick(()=>{var a,g;const e=(g=(a=document.querySelector("#job-opening-input"))==null?void 0:a.parentElement)==null?void 0:g.querySelector(".absolute");if(e){const s=e.querySelectorAll('div[class*="cursor-pointer"]')[this.highlightedOpeningIndex];s&&s.scrollIntoView({block:"nearest",behavior:"smooth"})}}))},clearError(){this.error=null},cancelGeneration(){this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null),this.isGenerating=!1,this.pollingAttempts=0,this.error="Generaci\xF3n del informe cancelada"},generateReport(){return c(this,null,function*(){if(!this.effectiveJobOpening){this.error="Por favor selecciona una Vacante";return}console.log("\u{1F680} Starting report generation for:",this.effectiveJobOpening),yield this.loadJobOpeningData(),this.isGenerating=!0,this.error=null,this.pollingAttempts=0,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null);try{console.log("\u{1F4DE} Calling generate_recruitment_report API...");const o=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.generate_recruitment_report",{job_opening:this.effectiveJobOpening});if(console.log("\u{1F4E5} API Response:",o),!o)throw new Error("No response from server");let e=o.report_id||o.name||o.report_name;if(!e){console.error("\u274C No report_id in response. Full response:",JSON.stringify(o,null,2)),console.log("\u{1F504} Trying to get latest report for job opening as fallback...");try{const a=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.get_reports_for_job_opening",{job_opening:this.effectiveJobOpening});a&&a.length>0&&(e=a[0].name,console.log("\u2705 Found existing report:",e))}catch(a){console.error("\u274C Fallback also failed:",a)}if(!e){this.error="El servidor no devolvi\xF3 un ID de informe. Respuesta: "+JSON.stringify(o),this.isGenerating=!1;return}}if(console.log("\u{1F4CB} Report ID received:",e),console.log("\u{1F4CA} Response status:",o.status),console.log("\u{1F4E5} Loading report:",e),yield this.loadReport(e),yield this.loadExistingReports(),yield this.loadAllReports(),this.report){const a=(this.report.status||"").toLowerCase();console.log("\u{1F4CA} Loaded report status:",a),a==="completed"?(console.log("\u2705 Report is already completed!"),this.isGenerating=!1,this.error=null,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null)):a==="generating"||a==="draft"?(console.log("\u23F3 Report is generating, starting polling..."),this.isGenerating=!0,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null),this.pollReportStatus(e)):a==="failed"?(console.log("\u274C Report failed"),this.isGenerating=!1,this.error=this.report.ai_analysis_summary||"La generaci\xF3n del informe fall\xF3"):(console.log("\u26A0\uFE0F Unknown report status:",this.report.status),this.isGenerating=!1)}else console.error("\u274C Failed to load report after generation"),this.error="El informe fue creado pero no se pudo cargar. ID del Informe: "+e,this.isGenerating=!1}catch(o){console.error("\u274C Error generating report:",o),this.error=o.message||"Error al generar el informe. Por favor verifica tu conexi\xF3n e intenta nuevamente.",this.isGenerating=!1,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null)}})},pollReportStatus(o){return c(this,null,function*(){if(!o){console.error("\u274C Cannot poll: no reportId provided"),this.isGenerating=!1;return}const e=60;console.log("\u{1F504} Starting polling for report:",o),this.isGenerating=!0,this.pollingInterval&&(console.log("\u{1F9F9} Clearing existing polling interval"),clearTimeout(this.pollingInterval),this.pollingInterval=null);const a=()=>c(this,null,function*(){try{if(this.pollingAttempts++,console.log(`\u{1F504} Polling attempt ${this.pollingAttempts}/${e} for report ${o}`),this.pollingAttempts>e){console.log("\u23F9\uFE0F Polling stopped - reached max attempts"),this.report&&(this.report.status==="Generating"||this.report.status==="generating")&&(this.error=`El informe sigue proces\xE1ndose despu\xE9s de ${e*2} segundos. Los trabajadores en segundo plano podr\xEDan no estar ejecut\xE1ndose. Por favor verifica si 'bench start' est\xE1 ejecut\xE1ndose, o haz clic en "Recargar" para verificar el estado nuevamente.`),this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null;return}console.log(`\u{1F4DE} Calling get_recruitment_report for ${o}...`);const g=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.get_recruitment_report",{report_id:o});if(console.log(`\u{1F4E5} Poll ${this.pollingAttempts}: Report status:`,g?g.status:"null"),g){this.report=g,console.log("\u2705 Updated report in UI. Status:",g.status);const s=(g.status||"").toLowerCase();if(s==="completed"){console.log("\u2705\u2705\u2705 Report completed!"),this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null,this.error=null;return}else if(s==="failed"){console.log("\u274C Report failed"),this.error=g.ai_analysis_summary||"La generaci\xF3n del informe fall\xF3",this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null;return}else if(s==="generating"||s==="draft"){console.log(`\u23F3 Still generating... (attempt ${this.pollingAttempts}/${e})`),this.isGenerating=!0,this.pollingAttempts<e?(console.log("\u23F0 Scheduling next poll in 2 seconds..."),this.pollingInterval=setTimeout(()=>{console.log("\u23F0 Polling interval triggered"),a()},2e3),console.log("\u2705 Polling interval set:",this.pollingInterval)):(this.error=`El informe sigue proces\xE1ndose despu\xE9s de ${e*2} segundos. Los trabajadores en segundo plano podr\xEDan no estar ejecut\xE1ndose.`,this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null);return}else{console.log("\u26A0\uFE0F Unknown status:",g.status),this.pollingAttempts<e?(this.isGenerating=!0,this.pollingInterval=setTimeout(()=>{console.log("\u23F0 Polling interval triggered (unknown status)"),a()},2e3)):(this.error=`Estado de informe desconocido: ${g.status}. Mostrando datos actuales de todos modos.`,this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null);return}}else console.log("\u26A0\uFE0F No report data returned"),this.pollingAttempts<e?(this.isGenerating=!0,this.pollingInterval=setTimeout(()=>{console.log("\u23F0 Polling interval triggered (no data)"),a()},2e3)):(this.error="No se pudo recuperar los datos del informe despu\xE9s de m\xFAltiples intentos",this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null)}catch(g){console.error("\u274C Error polling:",g),console.error("\u274C Error details:",g.message,g.stack),this.pollingAttempts<e?(console.log(`\u{1F504} Retrying after error (attempt ${this.pollingAttempts}/${e})...`),this.isGenerating=!0,this.pollingInterval=setTimeout(()=>{console.log("\u23F0 Polling interval triggered (error retry)"),a()},3e3)):(this.error="Error al verificar el estado del informe: "+(g.message||"Error desconocido"),this.isGenerating=!1,this.pollingInterval&&clearTimeout(this.pollingInterval),this.pollingInterval=null)}});console.log("\u{1F680} Starting first poll immediately..."),this.pollingAttempts=0,a()})},loadReport(o){return c(this,null,function*(){try{this.error=null,console.log("Loading report:",o);const e=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.get_recruitment_report",{report_id:o});if(console.log("Loaded report:",e),console.log("Report status:",e?e.status:"null"),console.log("Report data:",JSON.stringify(e,null,2)),e){if(this.report=e,e.job_opening){this.formJobOpening=e.job_opening;const g=this.jobOpeningsList.find(s=>s.name===e.job_opening);g&&(this.openingSearchText=g.job_title||g.name),this.loadJobOpeningData()}const a=(e.status||"").toLowerCase();a==="generating"||a==="draft"?(console.log("Report still generating, starting polling..."),this.isGenerating=!0,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null),this.pollReportStatus(o)):a==="completed"?(console.log("\u2705 Report already completed, showing results"),this.isGenerating=!1,this.error=null,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null)):a==="failed"?(console.log("\u274C Report failed"),this.isGenerating=!1,this.error="La generaci\xF3n del informe fall\xF3",this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null)):(console.log("\u26A0\uFE0F Unknown report status:",e.status),this.isGenerating=!1,this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null))}else this.error="Informe no encontrado",this.isGenerating=!1}catch(e){console.error("Error loading report:",e),this.error="Error al cargar el informe: "+(e.message||"Error desconocido"),this.isGenerating=!1}})},loadReportById(o=null){return c(this,null,function*(){if(!o){this.error="Por favor proporciona un ID de Informe";return}this.isGenerating=!0,this.error=null,yield this.loadReport(o)})},reloadReport(){return c(this,null,function*(){this.report&&this.report.name?(console.log("Reloading report:",this.report.name),this.isGenerating=!0,this.error=null,yield this.loadReport(this.report.name)):console.log("No report to reload")})},triggerProcessing(){return c(this,null,function*(){if(!this.report||!this.report.name){this.error="No hay informe disponible para iniciar el procesamiento";return}const o=(this.report.status||"").toLowerCase();if(o!=="generating"&&o!=="draft"){this.error="El informe no est\xE1 en estado Gener\xE1ndose";return}try{this.error=null;const e=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.trigger_report_processing",{report_id:this.report.name});console.log("Triggered processing:",e),this.isGenerating=!0,this.pollReportStatus(this.report.name)}catch(e){console.error("Error triggering processing:",e),this.error="Error al iniciar el procesamiento: "+(e.message||"Error desconocido")}})},formatDate(o){if(!o)return"N/A";try{return new Date(o).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return o}},loadJobOpeningData(){return c(this,null,function*(){if(!!this.effectiveJobOpening){this.loadingJobOpening=!0;try{const o=yield m("frappe.client.get",{doctype:"Job Opening",name:this.effectiveJobOpening});this.jobOpeningData=o,console.log("Loaded job opening data:",o)}catch(o){console.error("Error loading job opening data:",o),this.jobOpeningData=null}finally{this.loadingJobOpening=!1}}})},loadJobOpeningsList(){return c(this,null,function*(){this.loadingJobOpenings=!0;try{const o=yield m("frappe.client.get_list",{doctype:"Job Opening",fields:["name","job_title","designation","status","company"],limit_page_length:1e3,order_by:"modified desc"});this.jobOpeningsList=o||[],console.log("Loaded job openings list:",this.jobOpeningsList.length)}catch(o){console.error("Error loading job openings list:",o),this.jobOpeningsList=[]}finally{this.loadingJobOpenings=!1}})},onJobOpeningChange(){return c(this,null,function*(){if(this.formJobOpening){const o=this.jobOpeningsList.find(e=>e.name===this.formJobOpening);o&&(this.openingSearchText=o.job_title||o.name),yield this.loadJobOpeningData(),yield this.loadExistingReports()}else this.openingSearchText="",this.jobOpeningData=null,this.availableReports=[],this.report=null})},loadExistingReports(){return c(this,null,function*(){if(!this.effectiveJobOpening){this.availableReports=[];return}this.loadingReports=!0;try{const o=yield m("ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.get_reports_for_job_opening",{job_opening:this.effectiveJobOpening});o&&o.length>0?this.availableReports=o:this.availableReports=[]}catch(o){console.error("Error loading existing reports:",o),this.availableReports=[],o.message&&!o.message.includes("not found")&&console.warn("Could not load existing reports:",o.message)}finally{this.loadingReports=!1}})},loadAllReports(){return c(this,null,function*(){this.loadingReports=!0;try{const o=yield m("frappe.client.get_list",{doctype:"AI Recruitment Report",fields:["name","report_title","status","report_generated_date","candidates_analyzed","job_opening"],limit_page_length:100,order_by:"report_generated_date desc"});o&&o.length>0?this.allReports=o:this.allReports=[]}catch(o){console.error("Error loading all reports:",o),this.allReports=[]}finally{this.loadingReports=!1}})},loadReportAndSetJobOpening(o,e){return c(this,null,function*(){if(e){this.formJobOpening=e;const a=this.jobOpeningsList.find(g=>g.name===e);a&&(this.openingSearchText=a.job_title||a.name),yield this.loadJobOpeningData()}yield this.loadReport(o),yield this.loadAllReports()})},getRecommendationClass(o){return{Hire:"bg-green-100 text-green-800",Consider:"bg-blue-100 text-blue-800","Additional Interview":"bg-yellow-100 text-yellow-800",Reject:"bg-red-100 text-red-800",Contratar:"bg-green-100 text-green-800",Considerar:"bg-blue-100 text-blue-800","Entrevista Adicional":"bg-yellow-100 text-yellow-800",Rechazar:"bg-red-100 text-red-800"}[o]||"bg-gray-100 text-gray-800"},viewCVAnalysis(o){this.$router.push({name:"CVAnalysis",query:{analysisId:o}})},exportToPDF(){return c(this,null,function*(){if(!this.report||!this.report.name){this.error="No hay informe disponible para exportar";return}if(!this.isStatusCompleted(this.report.status)){this.error="El informe debe estar completado antes de exportar";return}this.exportingPDF=!0,this.error=null;try{const e=`${window.location.origin}/api/method/ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.export_report_to_pdf?report_id=${encodeURIComponent(this.report.name)}`,a=yield fetch(e,{method:"GET",credentials:"include",headers:{Accept:"application/pdf"}});if(!a.ok)throw new Error(`Export failed: ${a.statusText}`);const g=yield a.blob(),s=window.URL.createObjectURL(g),n=document.createElement("a");n.href=s;const r=new Date().toISOString().slice(0,10).replace(/-/g,"");n.download=`recruitment_report_${this.report.name}_${r}.pdf`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)}catch(o){console.error("Error exporting PDF:",o),this.error="Error al exportar PDF: "+(o.message||"Error desconocido")}finally{this.exportingPDF=!1}})},exportToExcel(){return c(this,null,function*(){if(!this.report||!this.report.name){this.error="No hay informe disponible para exportar";return}if(!this.isStatusCompleted(this.report.status)){this.error="El informe debe estar completado antes de exportar";return}this.exportingExcel=!0,this.error=null;try{const e=`${window.location.origin}/api/method/ai_hr_recruitment.ai_hr_recruitment.api.recruitment_reports.export_report_to_excel?report_id=${encodeURIComponent(this.report.name)}`,a=yield fetch(e,{method:"GET",credentials:"include",headers:{Accept:"text/csv,application/csv"}});if(!a.ok)throw new Error(`Export failed: ${a.statusText}`);const g=yield a.blob(),s=window.URL.createObjectURL(g),n=document.createElement("a");n.href=s;const r=new Date().toISOString().slice(0,10).replace(/-/g,"");n.download=`recruitment_report_${this.report.name}_${r}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)}catch(o){console.error("Error exporting Excel:",o),this.error="Error al exportar Excel: "+(o.message||"Error desconocido")}finally{this.exportingExcel=!1}})},isStatusCompleted(o){return o&&o.toLowerCase()==="completed"},isStatusGenerating(o){return o&&o.toLowerCase()==="generating"},isStatusFailed(o){return o&&o.toLowerCase()==="failed"}}},E={class:"flex-1 p-6 bg-gray-50 overflow-y-auto min-h-0"},D={key:0,class:"mb-6"},S={class:"bg-white rounded-lg shadow p-6"},T={class:"mb-6"},G={class:"relative"},J={class:"flex gap-2"},L={class:"relative flex-1"},A=["placeholder","disabled"],P={key:0,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},F=["disabled"],N={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},V={key:0,class:"p-2"},U={class:"text-xs text-gray-500 px-2 py-1 mb-1 font-semibold"},M=["onMousedown"],q={class:"font-medium text-gray-900"},z={class:"text-sm text-gray-500"},B={class:"text-xs text-gray-400 font-mono"},H={key:1,class:"p-4 text-sm text-gray-500 text-center"},K={key:2,class:"p-4 text-sm text-gray-500 text-center"},X={key:1,class:"text-xs text-gray-500 mt-1"},Y={key:2,class:"text-xs text-green-600 mt-1"},Z=["disabled"],Q={key:0},W={key:1},$={class:"bg-white rounded-lg shadow p-6"},ee={key:0,class:"text-sm text-gray-500 italic py-8 text-center"},te={key:1,class:"space-y-2 max-h-96 overflow-y-auto"},se=["onClick"],oe={class:"flex items-center justify-between"},re={class:"flex-1"},ne={class:"flex items-center gap-2 mb-2"},ie={class:"font-medium text-gray-900"},le={class:"text-xs text-gray-500 space-y-1"},ae={key:0},de={key:1},ge={key:2},pe={class:"font-mono text-xs text-gray-400"},ce={class:"flex items-center gap-2"},he={key:0,class:"text-blue-600 hover:text-blue-800 text-sm font-medium px-3 py-1 bg-blue-100 rounded"},ue={key:1,class:"text-gray-600 hover:text-gray-800 text-sm font-medium px-3 py-1 bg-gray-100 rounded hover:bg-gray-200"},me={key:2,class:"text-sm text-gray-500 italic py-8 text-center"},be={key:1,class:"mb-6"},fe={class:"bg-white rounded-lg shadow p-6 mb-4"},xe={class:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-200"},ye={class:"text-xs text-gray-500 font-mono ml-auto"},_e={key:0,class:"space-y-2"},ve={class:"text-sm"},we={class:"text-gray-900"},Oe={key:0,class:"text-sm"},ke={class:"text-gray-900"},Ie={key:1,class:"text-sm"},Re={class:"text-gray-900"},Ce={key:2,class:"text-sm"},je={class:"text-gray-900"},Ee={key:1,class:"text-sm text-gray-500 italic"},De={class:"flex gap-3 flex-wrap"},Se=["disabled"],Te={key:0},Ge={key:1},Je=["disabled"],Le={key:0},Ae={key:1},Pe=["disabled"],Fe={key:0},Ne={key:1},Ve={key:2,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center justify-between"},Ue={class:"flex items-center gap-3"},Me={class:"text-red-700"},qe={key:3,class:"bg-white rounded-lg shadow p-8 text-center mb-6"},ze={class:"mb-4"},Be={class:"text-sm text-gray-600 mb-2"},He={class:"w-full bg-gray-200 rounded-full h-2"},Ke={key:4,class:"space-y-6"},Xe={class:"bg-white rounded-lg shadow p-6"},Ye={class:"flex justify-between items-center mb-4 pb-4 border-b border-gray-200"},Ze={key:0,class:"text-xl font-semibold text-gray-900"},Qe={key:1,class:"text-xl font-semibold text-gray-900"},We={key:2,class:"text-xl font-semibold text-gray-900"},$e={key:3,class:"text-xl font-semibold text-gray-900"},et={class:"flex items-center gap-3"},tt={key:0,class:"text-sm text-gray-500"},st={key:1,class:"flex gap-2"},ot=["disabled"],rt={key:0},nt={key:1},it=["disabled"],lt={key:0},at={key:1},dt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},gt={class:"bg-gray-50 rounded-lg p-4"},pt={class:"text-sm font-mono text-gray-900"},ct={class:"bg-gray-50 rounded-lg p-4"},ht={class:"text-3xl font-bold text-gray-900"},ut={class:"bg-gray-50 rounded-lg p-4"},mt={class:"text-3xl font-bold text-gray-900"},bt={key:0,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6"},ft={class:"text-yellow-800"},xt={class:"mb-2"},yt={class:"font-mono"},_t={class:"mb-2"},vt={key:0,class:"mb-2"},wt={key:1,class:"bg-gray-50 rounded-lg p-6 mb-6"},Ot=["innerHTML"],kt={key:1,class:"text-gray-500 italic"},It={key:2,class:"text-gray-500 italic"},Rt={key:2,class:"bg-gray-50 rounded-lg p-6 mb-6"},Ct={class:"overflow-x-auto"},jt={class:"min-w-full divide-y divide-gray-200"},Et={class:"bg-white divide-y divide-gray-200"},Dt={class:"px-4 py-3 text-sm font-medium text-gray-900"},St={class:"px-4 py-3 text-sm text-gray-900"},Tt={class:"px-4 py-3 text-sm text-gray-900"},Gt={class:"flex items-center"},Jt={class:"font-semibold"},Lt={class:"ml-2 w-16 bg-gray-200 rounded-full h-2"},At={class:"px-4 py-3 text-sm"},Pt={class:"px-4 py-3 text-sm text-gray-600 max-w-xs"},Ft={class:"px-4 py-3 text-sm text-gray-600 max-w-xs"},Nt={class:"px-4 py-3 text-sm"},Vt=["onClick"],Ut={key:1,class:"text-gray-400 text-xs"},Mt={key:3,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 mb-6"},qt={key:4,class:"bg-gray-50 rounded-lg p-6 mb-6"},zt=["innerHTML"],Bt={key:1,class:"text-gray-500 italic"},Ht={key:5,class:"bg-gray-50 rounded-lg p-6 mb-6"},Kt={key:0,class:"text-gray-700 leading-relaxed whitespace-pre-wrap font-mono text-sm bg-white p-4 rounded border"},Xt={key:1,class:"text-gray-500 italic"},Yt={key:6,class:"bg-gray-50 rounded-lg p-6 mb-6"},Zt={key:0,class:"text-gray-700 leading-relaxed whitespace-pre-wrap font-mono text-sm bg-white p-4 rounded border"},Qt={key:1,class:"text-gray-500 italic"},Wt={key:7,class:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6"},$t={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},es={class:"text-blue-700 font-mono ml-2"},ts={class:"text-blue-700 ml-2"},ss={class:"text-blue-700 ml-2"},os={class:"text-blue-700 ml-2"},rs={key:0},ns={class:"text-blue-700 ml-2"},is={key:1},ls={class:"text-blue-700 ml-2"};function as(o,e,a,g,s,n){return i(),l("div",E,[e[66]||(e[66]=t("div",{class:"mb-8"},[t("h2",{class:"text-2xl font-semibold text-gray-900 mb-2"},"\u{1F4CA} Informes de Reclutamiento IA"),t("p",{class:"text-sm text-gray-600"},"Generar informes completos de reclutamiento basados en an\xE1lisis de CV")],-1)),n.effectiveJobOpening?(i(),l("div",be,[t("div",fe,[t("div",xe,[e[27]||(e[27]=t("span",{class:"text-2xl"},"\u{1F4BC}",-1)),e[28]||(e[28]=t("h4",{class:"text-lg font-semibold text-gray-900"},"Vacante",-1)),t("span",ye,d(n.effectiveJobOpening),1)]),s.jobOpeningData?(i(),l("div",_e,[t("p",ve,[e[29]||(e[29]=t("span",{class:"font-medium text-gray-700"},"T\xEDtulo:",-1)),e[30]||(e[30]=b()),t("span",we,d(s.jobOpeningData.job_title||"N/A"),1)]),s.jobOpeningData.designation?(i(),l("p",Oe,[e[31]||(e[31]=t("span",{class:"font-medium text-gray-700"},"Designaci\xF3n:",-1)),e[32]||(e[32]=b()),t("span",ke,d(s.jobOpeningData.designation),1)])):p("",!0),s.jobOpeningData.company?(i(),l("p",Ie,[e[33]||(e[33]=t("span",{class:"font-medium text-gray-700"},"Empresa:",-1)),e[34]||(e[34]=b()),t("span",Re,d(s.jobOpeningData.company),1)])):p("",!0),s.jobOpeningData.department?(i(),l("p",Ce,[e[35]||(e[35]=t("span",{class:"font-medium text-gray-700"},"Departamento:",-1)),e[36]||(e[36]=b()),t("span",je,d(s.jobOpeningData.department),1)])):p("",!0)])):(i(),l("div",Ee,"Cargando datos de la vacante..."))]),t("div",De,[t("button",{onClick:e[11]||(e[11]=(...r)=>n.generateReport&&n.generateReport(...r)),disabled:s.isGenerating,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.isGenerating?(i(),l("span",Te,"\u{1F504} Generando...")):(i(),l("span",Ge,"\u{1F4CA} Generar Informe"))],8,Se),t("button",{onClick:e[12]||(e[12]=(...r)=>n.clearInputs&&n.clearInputs(...r)),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},"Cambiar Vacante"),s.report?(i(),l("button",{key:0,onClick:e[13]||(e[13]=(...r)=>n.reloadReport&&n.reloadReport(...r)),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},"\u{1F504} Recargar")):p("",!0),s.report&&n.isStatusGenerating(s.report.status)?(i(),l("button",{key:1,onClick:e[14]||(e[14]=(...r)=>n.triggerProcessing&&n.triggerProcessing(...r)),class:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700"},"\u26A1 Iniciar Procesamiento")):p("",!0),s.report&&n.isStatusCompleted(s.report.status)?(i(),l("button",{key:2,onClick:e[15]||(e[15]=(...r)=>n.exportToPDF&&n.exportToPDF(...r)),disabled:s.exportingPDF,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.exportingPDF?(i(),l("span",Le,"\u23F3 Exportando...")):(i(),l("span",Ae,"\u{1F4C4} Exportar PDF"))],8,Je)):p("",!0),s.report&&n.isStatusCompleted(s.report.status)?(i(),l("button",{key:3,onClick:e[16]||(e[16]=(...r)=>n.exportToExcel&&n.exportToExcel(...r)),disabled:s.exportingExcel,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.exportingExcel?(i(),l("span",Fe,"\u23F3 Exportando...")):(i(),l("span",Ne,"\u{1F4CA} Exportar Excel"))],8,Pe)):p("",!0)])])):(i(),l("div",D,[t("div",S,[e[23]||(e[23]=t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"\u{1F4DD} Seleccionar Vacante",-1)),e[24]||(e[24]=t("p",{class:"text-sm text-gray-600 mb-6"},"Selecciona una vacante para generar un informe de reclutamiento.",-1)),t("div",T,[t("div",G,[e[22]||(e[22]=t("label",{for:"job-opening-input",class:"block text-sm font-medium text-gray-700 mb-2"},[t("span",null,"\u{1F4BC}"),b(" Vacante ")],-1)),t("div",J,[t("div",L,[I(t("input",{id:"job-opening-input",type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>s.openingSearchText=r),onInput:e[1]||(e[1]=(...r)=>n.onOpeningSearchInput&&n.onOpeningSearchInput(...r)),onFocus:e[2]||(e[2]=(...r)=>n.onOpeningFocus&&n.onOpeningFocus(...r)),onBlur:e[3]||(e[3]=(...r)=>n.handleOpeningBlur&&n.handleOpeningBlur(...r)),onKeydown:[e[4]||(e[4]=f(x((...r)=>n.handleOpeningEnter&&n.handleOpeningEnter(...r),["prevent"]),["enter"])),e[5]||(e[5]=f(r=>s.showOpeningDropdown=!1,["escape"])),e[6]||(e[6]=f(x(r=>n.navigateOpeningDropdown(1),["prevent"]),["down"])),e[7]||(e[7]=f(x(r=>n.navigateOpeningDropdown(-1),["prevent"]),["up"]))],placeholder:s.formJobOpening?"Type Job Opening ID or name...":"Type Job Opening ID or name manually...",disabled:s.loadingJobOpenings,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"},null,40,A),[[R,s.openingSearchText]]),s.formJobOpening?(i(),l("div",P,[t("button",{onClick:e[8]||(e[8]=(...r)=>n.clearOpening&&n.clearOpening(...r)),class:"text-gray-400 hover:text-gray-600",type:"button"}," \u2715 ")])):p("",!0)]),t("button",{type:"button",onClick:e[9]||(e[9]=(...r)=>n.toggleOpeningDropdown&&n.toggleOpeningDropdown(...r)),disabled:s.loadingJobOpenings,class:"px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",title:"Browse openings list"},[...e[21]||(e[21]=[t("span",{class:"text-lg"},"\u25BC",-1)])],8,F)]),s.showOpeningDropdown?(i(),l("div",N,[n.filteredOpenings.length>0?(i(),l("div",V,[t("div",U,"Select from list ("+d(n.filteredOpenings.length)+" results):",1),(i(!0),l(v,null,w(n.filteredOpenings,(r,h)=>(i(),l("div",{key:r.name,onMousedown:x(u=>n.selectOpening(r),["prevent"]),class:y(["px-4 py-2 cursor-pointer border-b border-gray-100 last:border-b-0",h===s.highlightedOpeningIndex?"bg-blue-100":"hover:bg-blue-50"])},[t("div",q,d(r.job_title||r.name),1),t("div",z,d(r.designation||""),1),t("div",B,d(r.name),1)],42,M))),128))])):s.openingSearchText?(i(),l("div",H,' No openings found matching "'+d(s.openingSearchText)+'" ',1)):(i(),l("div",K," Start typing to search, or scroll to browse all openings "))])):p("",!0),s.loadingJobOpenings?(i(),l("p",X,"Loading openings...")):p("",!0),s.formJobOpening&&!s.loadingJobOpenings?(i(),l("p",Y," \u2713 Selected: "+d(n.getOpeningDisplayName(s.formJobOpening)),1)):p("",!0)])]),t("button",{onClick:e[10]||(e[10]=(...r)=>n.generateReport&&n.generateReport(...r)),disabled:!n.canGenerate||s.isGenerating,class:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.isGenerating?(i(),l("span",Q,"\u{1F504} Generando...")):(i(),l("span",W,"\u{1F680} Generar Informe"))],8,Z)]),t("div",$,[e[26]||(e[26]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"\u{1F4CB} Todos los Informes de Reclutamiento",-1)),s.loadingReports?(i(),l("div",ee,"Cargando informes...")):s.allReports.length>0?(i(),l("div",te,[(i(!0),l(v,null,w(s.allReports,r=>(i(),l("div",{key:r.name,onClick:h=>n.loadReportAndSetJobOpening(r.name,r.job_opening),class:y(["p-4 rounded-lg border cursor-pointer transition-all",s.report&&s.report.name===r.name?"bg-blue-50 border-blue-300 shadow-sm":"bg-gray-50 border-gray-200 hover:bg-gray-100"])},[t("div",oe,[t("div",re,[t("div",ne,[t("span",ie,d(r.report_title||r.name),1),t("span",{class:y(["px-2 py-1 rounded text-xs font-medium",r.status==="Completed"?"bg-green-100 text-green-800":r.status==="Generating"?"bg-yellow-100 text-yellow-800":r.status==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},d(r.status),3)]),t("div",le,[r.job_opening?(i(),l("div",ae,[e[25]||(e[25]=t("span",{class:"font-medium"},"Vacante:",-1)),b(" "+d(r.job_opening),1)])):p("",!0),r.report_generated_date?(i(),l("div",de,[t("span",null,"Generado: "+d(n.formatDate(r.report_generated_date)),1)])):p("",!0),r.candidates_analyzed!==void 0?(i(),l("div",ge,[t("span",null,d(r.candidates_analyzed)+" candidatos analizados",1)])):p("",!0),t("div",pe," ID: "+d(r.name),1)])]),t("div",ce,[s.report&&s.report.name===r.name?(i(),l("button",he," \u2713 Viendo ")):(i(),l("button",ue," Ver \u2192 "))])])],10,se))),128))])):(i(),l("div",me," No se encontraron informes. Selecciona una vacante y genera un informe para comenzar. "))])])),s.error?(i(),l("div",Ve,[t("div",Ue,[e[38]||(e[38]=t("span",{class:"text-xl"},"\u26A0\uFE0F",-1)),t("div",null,[e[37]||(e[37]=t("strong",{class:"text-red-800"},"Error:",-1)),t("span",Me,d(s.error),1)])]),t("button",{onClick:e[17]||(e[17]=(...r)=>n.clearError&&n.clearError(...r)),class:"text-red-600 hover:text-red-800"},"\u2715")])):p("",!0),s.isGenerating&&!s.report?(i(),l("div",qe,[e[39]||(e[39]=t("div",{class:"relative inline-block mb-6"},[t("div",{class:"w-16 h-16 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"})],-1)),e[40]||(e[40]=t("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"\u{1F916} Generando Informe...",-1)),e[41]||(e[41]=t("p",{class:"text-sm text-gray-600 mb-6"},"Esto puede tardar unos momentos",-1)),t("div",ze,[t("p",Be,"Verificando estado... ("+d(s.pollingAttempts)+"/60 intentos, ~"+d(Math.round(s.pollingAttempts*2))+"s transcurridos)",1),t("div",He,[t("div",{class:"bg-blue-500 h-2 rounded-full transition-all",style:O({width:Math.min(s.pollingAttempts/60*100,100)+"%"})},null,4)])]),s.pollingAttempts>5?(i(),l("button",{key:0,onClick:e[18]||(e[18]=(...r)=>n.cancelGeneration&&n.cancelGeneration(...r)),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"},"Cancelar Generaci\xF3n")):p("",!0)])):p("",!0),s.report?(i(),l("div",Ke,[t("div",Xe,[t("div",Ye,[n.isStatusCompleted(s.report.status)?(i(),l("h3",Ze,"\u2705 Informe Completo")):n.isStatusGenerating(s.report.status)?(i(),l("h3",Qe,"\u23F3 Informe Gener\xE1ndose")):n.isStatusFailed(s.report.status)?(i(),l("h3",We,"\u274C Informe Fallido")):(i(),l("h3",$e,"\u{1F4CA} Informe (Estado: "+d(s.report.status)+")",1)),t("div",et,[s.report.report_generated_date?(i(),l("div",tt," Generado el "+d(n.formatDate(s.report.report_generated_date)),1)):p("",!0),n.isStatusCompleted(s.report.status)?(i(),l("div",st,[t("button",{onClick:e[19]||(e[19]=(...r)=>n.exportToPDF&&n.exportToPDF(...r)),disabled:s.exportingPDF,class:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.exportingPDF?(i(),l("span",rt,"\u23F3")):(i(),l("span",nt,"\u{1F4C4} PDF"))],8,ot),t("button",{onClick:e[20]||(e[20]=(...r)=>n.exportToExcel&&n.exportToExcel(...r)),disabled:s.exportingExcel,class:"px-3 py-1.5 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed"},[s.exportingExcel?(i(),l("span",lt,"\u23F3")):(i(),l("span",at,"\u{1F4CA} Excel"))],8,it)])):p("",!0)])]),t("div",dt,[t("div",gt,[e[42]||(e[42]=t("div",{class:"flex items-center gap-2 mb-2"},[t("span",{class:"text-xl"},"\u{1F4CB}"),t("h4",{class:"text-sm font-medium text-gray-700"},"ID del Informe")],-1)),t("div",pt,d(s.report.name),1)]),t("div",ct,[e[43]||(e[43]=t("div",{class:"flex items-center gap-2 mb-2"},[t("span",{class:"text-xl"},"\u{1F465}"),t("h4",{class:"text-sm font-medium text-gray-700"},"Candidatos Analizados")],-1)),t("div",ht,d(s.report.candidates_analyzed||0),1)]),t("div",ut,[e[44]||(e[44]=t("div",{class:"flex items-center gap-2 mb-2"},[t("span",{class:"text-xl"},"\u{1F3C6}"),t("h4",{class:"text-sm font-medium text-gray-700"},"Mejores Candidatos")],-1)),t("div",mt,d(s.report.top_candidates?s.report.top_candidates.length:0),1)])]),n.isStatusGenerating(s.report.status)?(i(),l("div",bt,[e[51]||(e[51]=t("h4",{class:"text-lg font-semibold text-yellow-900 mb-4 pb-3 border-b border-yellow-300"},"\u23F3 El informe se est\xE1 generando",-1)),t("div",ft,[e[49]||(e[49]=t("p",{class:"mb-2"},"El informe se est\xE1 procesando actualmente en segundo plano.",-1)),t("p",xt,[e[45]||(e[45]=t("strong",null,"ID del Informe:",-1)),e[46]||(e[46]=b()),t("span",yt,d(s.report.name),1)]),t("p",_t,[e[47]||(e[47]=t("strong",null,"Vacante:",-1)),b(" "+d(s.report.job_opening),1)]),s.report.report_generated_date?(i(),l("p",vt,[e[48]||(e[48]=t("strong",null,"Iniciado:",-1)),b(" "+d(n.formatDate(s.report.report_generated_date)),1)])):p("",!0),e[50]||(e[50]=C('<div class="mt-4 p-3 bg-yellow-100 rounded border border-yellow-300" data-v-630ee2a0><p class="text-sm font-semibold mb-2" data-v-630ee2a0>\u26A0\uFE0F Si el informe est\xE1 atascado en estado &quot;Gener\xE1ndose&quot;:</p><ul class="text-sm list-disc list-inside space-y-1" data-v-630ee2a0><li data-v-630ee2a0>Aseg\xFArate de que <code class="bg-yellow-200 px-1 rounded" data-v-630ee2a0>bench start</code> est\xE9 ejecut\xE1ndose (trabajadores en segundo plano)</li><li data-v-630ee2a0>Verifica si la cola de trabajos en segundo plano se est\xE1 procesando</li><li data-v-630ee2a0>Haz clic en el bot\xF3n &quot;Recargar&quot; para verificar manualmente el estado</li><li data-v-630ee2a0>El informe podr\xEDa estar esperando a que se completen los an\xE1lisis de CV</li></ul></div><p class="text-sm mt-4" data-v-630ee2a0>Esta p\xE1gina se actualizar\xE1 autom\xE1ticamente cuando el informe est\xE9 listo. Tambi\xE9n puedes hacer clic en el bot\xF3n &quot;Recargar&quot; para verificar el estado.</p>',2))])])):p("",!0),n.isStatusCompleted(s.report.status)||n.isStatusGenerating(s.report.status)&&s.report.ai_analysis_summary&&s.report.ai_analysis_summary!=="<p>Report is being generated. Please wait...</p>"?(i(),l("div",wt,[e[52]||(e[52]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4CB} Resumen Ejecutivo",-1)),s.report.ai_analysis_summary&&s.report.ai_analysis_summary!=="<p>Report is being generated. Please wait...</p>"?(i(),l("div",{key:0,class:"text-gray-700 leading-relaxed prose max-w-none",innerHTML:s.report.ai_analysis_summary},null,8,Ot)):n.isStatusCompleted(s.report.status)?(i(),l("div",kt,"No hay resumen disponible")):(i(),l("div",It,"El resumen aparecer\xE1 cuando el informe est\xE9 listo..."))])):p("",!0),n.isStatusCompleted(s.report.status)&&s.report.top_candidates&&s.report.top_candidates.length>0?(i(),l("div",Rt,[e[54]||(e[54]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F3C6} Mejores Candidatos",-1)),t("div",Ct,[t("table",jt,[e[53]||(e[53]=t("thead",{class:"bg-gray-100"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Rango"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Candidato"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Puntuaci\xF3n"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Recomendaci\xF3n"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Fortalezas"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Preocupaciones"),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase"},"Acciones")])],-1)),t("tbody",Et,[(i(!0),l(v,null,w(s.report.top_candidates,(r,h)=>(i(),l("tr",{key:r.name||r.candidate||h,class:"hover:bg-gray-50"},[t("td",Dt,"#"+d(r.ai_ranking||h+1),1),t("td",St,d(r.candidate_name||r.candidate||"N/A"),1),t("td",Tt,[t("div",Gt,[t("span",Jt,d(r.overall_score||0)+"%",1),t("div",Lt,[t("div",{class:"bg-blue-500 h-2 rounded-full",style:O({width:(r.overall_score||0)+"%"})},null,4)])])]),t("td",At,[t("span",{class:y([n.getRecommendationClass(r.recommendation),"px-2 py-1 rounded-full text-xs font-medium"])},d(r.recommendation||"N/A"),3)]),t("td",Pt,d(r.strengths||"N/A"),1),t("td",Ft,d(r.concerns||"N/A"),1),t("td",Nt,[r.cv_analysis_link?(i(),l("button",{key:0,onClick:u=>n.viewCVAnalysis(r.cv_analysis_link),class:"text-blue-600 hover:text-blue-800 underline"},"Ver An\xE1lisis de CV",8,Vt)):(i(),l("span",Ut,"Sin enlace"))])]))),128))])])])])):p("",!0),n.isStatusCompleted(s.report.status)&&(!s.report.top_candidates||s.report.top_candidates.length===0)?(i(),l("div",Mt,[...e[55]||(e[55]=[t("h4",{class:"text-lg font-semibold text-yellow-900 mb-2"},"\u{1F3C6} Mejores Candidatos",-1),t("p",{class:"text-yellow-800"},"No se encontraron mejores candidatos. Esto generalmente significa que no hay an\xE1lisis de CV completados para esta vacante.",-1)])])):p("",!0),n.isStatusCompleted(s.report.status)?(i(),l("div",qt,[e[56]||(e[56]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4A1} Recomendaciones de Contrataci\xF3n",-1)),s.report.hiring_recommendations&&s.report.hiring_recommendations.trim().length>0?(i(),l("div",{key:0,class:"text-gray-700 leading-relaxed prose max-w-none",innerHTML:s.report.hiring_recommendations},null,8,zt)):(i(),l("div",Bt,"No hay recomendaciones disponibles"))])):p("",!0),n.isStatusCompleted(s.report.status)?(i(),l("div",Ht,[e[57]||(e[57]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4CA} An\xE1lisis de Brecha de Habilidades",-1)),s.report.skills_gap_analysis&&s.report.skills_gap_analysis.trim().length>0?(i(),l("div",Kt,d(s.report.skills_gap_analysis),1)):(i(),l("div",Xt,"No hay an\xE1lisis de brecha de habilidades disponible"))])):p("",!0),n.isStatusCompleted(s.report.status)?(i(),l("div",Yt,[e[58]||(e[58]=t("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F310} Perspectivas del Mercado",-1)),s.report.market_insights&&s.report.market_insights.trim().length>0?(i(),l("div",Zt,d(s.report.market_insights),1)):(i(),l("div",Qt,"No hay perspectivas del mercado disponibles"))])):p("",!0),n.isStatusCompleted(s.report.status)?(i(),l("div",Wt,[e[65]||(e[65]=t("h4",{class:"text-lg font-semibold text-blue-900 mb-4 pb-3 border-b border-blue-300"},"\u{1F50D} Detalles del Informe",-1)),t("div",$t,[t("div",null,[e[59]||(e[59]=t("strong",{class:"text-blue-900"},"ID del Informe:",-1)),t("span",es,d(s.report.name),1)]),t("div",null,[e[60]||(e[60]=t("strong",{class:"text-blue-900"},"Vacante:",-1)),t("span",ts,d(s.report.job_opening),1)]),t("div",null,[e[61]||(e[61]=t("strong",{class:"text-blue-900"},"Estado:",-1)),t("span",ss,d(s.report.status),1)]),t("div",null,[e[62]||(e[62]=t("strong",{class:"text-blue-900"},"Candidatos Analizados:",-1)),t("span",os,d(s.report.candidates_analyzed||0),1)]),s.report.report_generated_date?(i(),l("div",rs,[e[63]||(e[63]=t("strong",{class:"text-blue-900"},"Fecha de Generaci\xF3n:",-1)),t("span",ns,d(n.formatDate(s.report.report_generated_date)),1)])):p("",!0),s.report.top_candidates?(i(),l("div",is,[e[64]||(e[64]=t("strong",{class:"text-blue-900"},"Cantidad de Mejores Candidatos:",-1)),t("span",ls,d(s.report.top_candidates.length||0),1)])):p("",!0)])])):p("",!0)])])):p("",!0)])}var ps=k(j,[["render",as],["__scopeId","data-v-630ee2a0"]]);export{ps as default};
