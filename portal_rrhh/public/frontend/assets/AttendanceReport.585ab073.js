var _=(u,c,t)=>new Promise((r,d)=>{var s=e=>{try{a(t.next(e))}catch(n){d(n)}},l=e=>{try{a(t.throw(e))}catch(n){d(n)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,l);a((t=t.apply(u,c)).next())});import{r as y,X as b,o as i,c as f,b as o,t as p,s as v,w as g,u as m,Q as w,f as k,d as V,a3 as B,a2 as N,a1 as $,e as j}from"./vendor.6b0ecc0f.js";import{_ as E}from"./AttendanceCalendar.df74820a.js";import{d as I}from"./es.3448d6cc.js";const S={class:"flex flex-col h-full overflow-hidden bg-white"},A={class:"flex-1 overflow-y-auto p-5"},C={class:"mb-6 flex items-center justify-between"},D={class:"text-2xl font-bold text-gray-900"},L={class:"flex items-center space-x-2"},R={class:"bg-gray-50 rounded-lg shadow-sm border border-gray-200 p-4 mb-6"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end"},q={class:"flex-1"},F={class:"block text-sm font-medium text-gray-700 mb-1"},M={key:1,class:"text-center py-10 text-gray-500"},z={__name:"AttendanceReport",setup(u){I.locale("es");const c=y([]),t=y({employee:null}),r=N(l=>_(this,null,function*(){try{const a=yield $("portal_rrhh.portal_rrhh.employee_data.get_employees_list",{search_term:l});c.value=(a.employees||[]).map(e=>{const n=e.status||"Sin estado",h=e.custom_dninie||"Sin DNI",x=e.attendance_device_id?`[${e.attendance_device_id}]`:"";return{label:`${e.employee_name} (${h}) ${x} [${n}]`,value:e.name}})}catch(a){console.error("Search failed:",a)}}),300),d=()=>{alert("Funcionalidad de exportaci\xF3n simplificada para esta vista.")},s=l=>l;return b(()=>{r("")}),(l,a)=>(i(),f("div",S,[o("div",A,[o("div",C,[o("h1",D,p(s("Reporte de Asistencia")),1),o("div",L,[t.value.employee?(i(),v(m(w),{key:0,variant:"outline",onClick:d},{default:g(()=>[j(p(s("Exportar a Excel")),1)]),_:1})):k("",!0)])]),o("div",R,[o("div",U,[o("div",q,[o("label",F,p(s("Empleado")),1),V(m(B),{modelValue:t.value.employee,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.employee=e),options:c.value,placeholder:"Buscar por nombre, DNI o ID...","onUpdate:query":m(r)},null,8,["modelValue","options","onUpdate:query"])])])]),t.value.employee?(i(),v(E,{key:0,employeeId:t.value.employee.value},null,8,["employeeId"])):(i(),f("div",M,p(s("Selecciona un empleado para ver su reporte.")),1))])]))}};export{z as default};
