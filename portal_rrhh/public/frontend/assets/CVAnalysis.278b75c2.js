var C=Object.defineProperty,S=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var D=(s,t,l)=>t in s?C(s,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[t]=l,j=(s,t)=>{for(var l in t||(t={}))L.call(t,l)&&D(s,l,t[l]);if(O)for(var l of O(t))z.call(t,l)&&D(s,l,t[l]);return s},J=(s,t)=>S(s,E(t));var h=(s,t,l)=>new Promise((d,n)=>{var a=m=>{try{y(l.next(m))}catch(v){n(v)}},i=m=>{try{y(l.throw(m))}catch(v){n(v)}},y=m=>m.done?d(m.value):Promise.resolve(m.value).then(a,i);y((l=l.apply(s,t)).next())});import{q as T,Z as b,o,c as r,b as e,e as g,$ as I,a0 as k,X as f,Y as x,f as c,t as p,F as A,x as _,n as u,a1 as w}from"./vendor.209ea08f.js";const M={name:"CVAnalysis",props:{jobApplicant:String,jobOpening:String},data(){return{analysis:null,isAnalyzing:!1,error:null,formJobApplicant:"",formJobOpening:"",applicantSearchText:"",openingSearchText:"",showApplicantDropdown:!1,showOpeningDropdown:!1,highlightedApplicantIndex:-1,highlightedOpeningIndex:-1,pollingAttempts:0,pollingInterval:null,applicantData:null,jobOpeningData:null,loadingApplicant:!1,loadingJobOpening:!1,jobApplicantsList:[],jobOpeningsList:[],loadingJobApplicants:!1,loadingJobOpenings:!1,recentAnalyses:[]}},computed:{effectiveJobApplicant(){return this.formJobApplicant||this.jobApplicant||this.$route.params.jobApplicant||this.$route.query.applicant||""},effectiveJobOpening(){return this.formJobOpening||this.jobOpening||this.$route.params.jobOpening||this.$route.query.opening||""},canAnalyze(){return this.formJobApplicant&&this.formJobOpening},filteredApplicants(){if(!this.applicantSearchText)return this.jobApplicantsList;const s=this.applicantSearchText.toLowerCase();return this.jobApplicantsList.filter(t=>{const l=(t.applicant_name||"").toLowerCase(),d=(t.email_id||"").toLowerCase(),n=(t.name||"").toLowerCase();return l.includes(s)||d.includes(s)||n.includes(s)})},filteredOpenings(){if(!this.openingSearchText)return this.jobOpeningsList;const s=this.openingSearchText.toLowerCase();return this.jobOpeningsList.filter(t=>{const l=(t.job_title||"").toLowerCase(),d=(t.designation||"").toLowerCase(),n=(t.name||"").toLowerCase();return l.includes(s)||d.includes(s)||n.includes(s)})},hasValidData(){return this.analysis&&this.analysis.status==="Completed"?!0:this.analysis&&(this.analysis.skills_match_percentage||this.analysis.experience_relevance||this.analysis.education_match||this.analysis.cv_analysis_text&&this.analysis.cv_analysis_text.trim().length>0)}},mounted(){this.loadJobApplicantsList(),this.loadJobOpeningsList(),this.loadRecentAnalyses(),this.$route.query.analysisId?this.loadAnalysisById(this.$route.query.analysisId):this.effectiveJobApplicant&&this.effectiveJobOpening&&this.loadApplicantAndJobData()},watch:{effectiveJobApplicant(s){s&&!this.applicantData&&this.loadApplicantData()},effectiveJobOpening(s){s&&!this.jobOpeningData&&this.loadJobOpeningData()}},beforeUnmount(){this.pollingInterval&&clearTimeout(this.pollingInterval)},methods:{startAnalysis(){this.canAnalyze&&this.analyzeCV()},clearInputs(){this.formJobApplicant="",this.formJobOpening="",this.applicantSearchText="",this.openingSearchText="",this.showApplicantDropdown=!1,this.showOpeningDropdown=!1,this.analysis=null,this.error=null,this.isAnalyzing=!1,this.applicantData=null,this.jobOpeningData=null},clearApplicant(){this.formJobApplicant="",this.applicantSearchText="",this.showApplicantDropdown=!1,this.applicantData=null},clearOpening(){this.formJobOpening="",this.openingSearchText="",this.showOpeningDropdown=!1,this.jobOpeningData=null},selectApplicant(s){this.formJobApplicant=s.name,this.applicantSearchText=s.applicant_name||s.name,this.showApplicantDropdown=!1,this.highlightedApplicantIndex=-1,this.onJobApplicantChange()},selectOpening(s){this.formJobOpening=s.name,this.openingSearchText=s.job_title||s.name,this.showOpeningDropdown=!1,this.highlightedOpeningIndex=-1,this.onJobOpeningChange()},onApplicantSearchInput(){const s=this.applicantSearchText.trim();if(s){const t=this.jobApplicantsList.find(l=>{const d=s.toLowerCase(),n=l.name&&l.name.toLowerCase()===d,a=l.applicant_name&&l.applicant_name.toLowerCase()===d,i=l.email_id&&l.email_id.toLowerCase()===d;return n||a||i});t?(this.formJobApplicant=t.name,this.applicantSearchText=t.applicant_name||t.name):this.formJobApplicant=s}else this.formJobApplicant="";this.showApplicantDropdown&&(this.highlightedApplicantIndex=-1)},onApplicantFocus(){this.jobApplicantsList.length>0&&(this.showApplicantDropdown=!0)},onOpeningSearchInput(){const s=this.openingSearchText.trim();if(s){const t=this.jobOpeningsList.find(l=>{const d=s.toLowerCase(),n=l.name&&l.name.toLowerCase()===d,a=l.job_title&&l.job_title.toLowerCase()===d,i=l.designation&&l.designation.toLowerCase()===d;return n||a||i});t?(this.formJobOpening=t.name,this.openingSearchText=t.job_title||t.name):this.formJobOpening=s}else this.formJobOpening="";this.showOpeningDropdown&&(this.highlightedOpeningIndex=-1)},onOpeningFocus(){this.jobOpeningsList.length>0&&(this.showOpeningDropdown=!0)},toggleApplicantDropdown(){this.showApplicantDropdown=!this.showApplicantDropdown,this.showApplicantDropdown&&(this.highlightedApplicantIndex=-1)},toggleOpeningDropdown(){this.showOpeningDropdown=!this.showOpeningDropdown,this.showOpeningDropdown&&(this.highlightedOpeningIndex=-1)},handleApplicantBlur(){setTimeout(()=>{if(this.showApplicantDropdown=!1,this.formJobApplicant){const s=this.jobApplicantsList.find(t=>t.name===this.formJobApplicant);s&&(this.applicantSearchText=s.applicant_name||s.name)}},200)},handleOpeningBlur(){setTimeout(()=>{if(this.showOpeningDropdown=!1,this.formJobOpening){const s=this.jobOpeningsList.find(t=>t.name===this.formJobOpening);s&&(this.openingSearchText=s.job_title||s.name)}},200)},getApplicantDisplayName(s){const t=this.jobApplicantsList.find(l=>l.name===s);return t?t.applicant_name||t.name:s},getOpeningDisplayName(s){const t=this.jobOpeningsList.find(l=>l.name===s);return t?t.job_title||t.name:s},handleApplicantEnter(){this.highlightedApplicantIndex>=0&&this.filteredApplicants[this.highlightedApplicantIndex]?this.selectApplicant(this.filteredApplicants[this.highlightedApplicantIndex]):this.filteredApplicants.length>0?this.selectApplicant(this.filteredApplicants[0]):this.applicantSearchText.trim()&&(this.formJobApplicant=this.applicantSearchText.trim(),this.showApplicantDropdown=!1,this.onJobApplicantChange())},handleOpeningEnter(){this.highlightedOpeningIndex>=0&&this.filteredOpenings[this.highlightedOpeningIndex]?this.selectOpening(this.filteredOpenings[this.highlightedOpeningIndex]):this.filteredOpenings.length>0?this.selectOpening(this.filteredOpenings[0]):this.openingSearchText.trim()&&(this.formJobOpening=this.openingSearchText.trim(),this.showOpeningDropdown=!1,this.onJobOpeningChange())},navigateApplicantDropdown(s){!this.showApplicantDropdown||this.filteredApplicants.length===0||(this.highlightedApplicantIndex+=s,this.highlightedApplicantIndex<0?this.highlightedApplicantIndex=this.filteredApplicants.length-1:this.highlightedApplicantIndex>=this.filteredApplicants.length&&(this.highlightedApplicantIndex=0),this.$nextTick(()=>{var l,d;const t=(d=(l=document.querySelector("#job-applicant-search"))==null?void 0:l.parentElement)==null?void 0:d.querySelector(".absolute");if(t){const n=t.children[this.highlightedApplicantIndex];n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}))},navigateOpeningDropdown(s){!this.showOpeningDropdown||this.filteredOpenings.length===0||(this.highlightedOpeningIndex+=s,this.highlightedOpeningIndex<0?this.highlightedOpeningIndex=this.filteredOpenings.length-1:this.highlightedOpeningIndex>=this.filteredOpenings.length&&(this.highlightedOpeningIndex=0),this.$nextTick(()=>{var l,d;const t=(d=(l=document.querySelector("#job-opening-search"))==null?void 0:l.parentElement)==null?void 0:d.querySelector(".absolute");if(t){const n=t.children[this.highlightedOpeningIndex];n&&n.scrollIntoView({block:"nearest",behavior:"smooth"})}}))},clearError(){this.error=null},cancelAnalysis(){this.pollingInterval&&(clearTimeout(this.pollingInterval),this.pollingInterval=null),this.isAnalyzing=!1,this.pollingAttempts=0,this.error="An\xE1lisis cancelado"},analyzeCV(){return h(this,null,function*(){if(!this.effectiveJobApplicant||!this.effectiveJobOpening){this.error="Por favor proporciona tanto el ID del Solicitante de Empleo como el ID de la Vacante";return}yield this.loadApplicantAndJobData(),this.isAnalyzing=!0,this.error=null,this.pollingAttempts=0;try{const s=yield b("ai_hr_recruitment.ai_hr_recruitment.api.cv_analysis.analyze_cv_with_ai",{job_applicant:this.effectiveJobApplicant,job_opening:this.effectiveJobOpening});s&&s.status?s.status==="processing"?this.pollAnalysisStatus(s.analysis_id):s.status==="exists"?(yield this.loadAnalysis(s.analysis_id),this.isAnalyzing=!1):s.status==="error"&&(this.error=s.message||"El an\xE1lisis fall\xF3 al iniciar",this.isAnalyzing=!1):(this.error="Respuesta inesperada del servidor",this.isAnalyzing=!1)}catch(s){this.error=s.message||"Error al iniciar el an\xE1lisis de CV. Por favor verifica tu conexi\xF3n e intenta nuevamente.",this.isAnalyzing=!1}})},pollAnalysisStatus(s){return h(this,null,function*(){const t=30;this.pollingAttempts=0;const l=()=>h(this,null,function*(){if(!!this.isAnalyzing)try{const d=yield b("ai_hr_recruitment.ai_hr_recruitment.api.cv_analysis.get_cv_analysis",{analysis_id:s});if(this.pollingAttempts++,d&&d.status)if(d.status==="Completed"){if(this.analysis=d,d.job_applicant){this.formJobApplicant=d.job_applicant;const n=this.jobApplicantsList.find(a=>a.name===d.job_applicant);n&&(this.applicantSearchText=n.applicant_name||n.name),this.loadApplicantData()}if(d.job_opening){this.formJobOpening=d.job_opening;const n=this.jobOpeningsList.find(a=>a.name===d.job_opening);n&&(this.openingSearchText=n.job_title||n.name),this.loadJobOpeningData()}this.isAnalyzing=!1,this.pollingInterval=null,this.pollingAttempts=0;return}else if(d.status==="Failed"){this.error=this.getErrorMessage(d),this.isAnalyzing=!1,this.pollingInterval=null;return}else if(d.status==="Analyzing"||d.status==="Pending"){this.pollingAttempts<t?this.pollingInterval=setTimeout(l,2e3):(this.error=`El an\xE1lisis sigue proces\xE1ndose despu\xE9s de ${t*2} segundos. Los trabajadores en segundo plano podr\xEDan no estar ejecut\xE1ndose. Por favor verifica si 'bench start' est\xE1 en ejecuci\xF3n.`,this.isAnalyzing=!1,this.pollingInterval=null,this.analysis=d);return}else{this.pollingAttempts<t?this.pollingInterval=setTimeout(l,2e3):(this.error=`Estado de an\xE1lisis desconocido: ${d.status}. Mostrando datos actuales de todos modos.`,this.analysis=d,this.isAnalyzing=!1,this.pollingInterval=null);return}else{this.pollingAttempts<t?this.pollingInterval=setTimeout(l,2e3):(this.error="No se pudo recuperar el estado del an\xE1lisis despu\xE9s de m\xFAltiples intentos",this.isAnalyzing=!1,this.pollingInterval=null);return}}catch(d){this.pollingAttempts<t&&this.isAnalyzing?this.pollingInterval=setTimeout(l,3e3):(this.error="Error al verificar el estado del an\xE1lisis: "+(d.message||"Error desconocido"),this.isAnalyzing=!1,this.pollingInterval=null)}});l()})},loadAnalysis(s){return h(this,null,function*(){try{this.error=null;const t=yield b("ai_hr_recruitment.ai_hr_recruitment.api.cv_analysis.get_cv_analysis",{analysis_id:s});if(t){if(this.analysis=t,t.job_applicant){this.formJobApplicant=t.job_applicant;const l=this.jobApplicantsList.find(d=>d.name===t.job_applicant);l&&(this.applicantSearchText=l.applicant_name||l.name),this.loadApplicantData()}if(t.job_opening){this.formJobOpening=t.job_opening;const l=this.jobOpeningsList.find(d=>d.name===t.job_opening);l&&(this.openingSearchText=l.job_title||l.name),this.loadJobOpeningData()}t.status==="Analyzing"||t.status==="Pending"?(this.isAnalyzing=!0,this.pollAnalysisStatus(s)):t.status==="Completed"?this.isAnalyzing=!1:(this.isAnalyzing=!1,t.status==="Failed"&&(this.error=this.getErrorMessage(t)))}else this.error="An\xE1lisis no encontrado"}catch(t){this.error="Error al cargar el an\xE1lisis: "+(t.message||"Error desconocido")}})},loadAnalysisById(s=null){return h(this,null,function*(){if(!s){this.error="Por favor proporciona un ID de An\xE1lisis";return}this.isAnalyzing=!0,this.error=null,yield this.loadAnalysis(s)})},reloadAnalysis(){return h(this,null,function*(){this.analysis&&this.analysis.name&&(this.isAnalyzing=!0,yield this.loadAnalysis(this.analysis.name))})},getErrorMessage(s){if(s.cv_analysis_text){if(s.cv_analysis_text.includes("disabled"))return"El An\xE1lisis de CV est\xE1 deshabilitado en la Configuraci\xF3n de IA de RRHH";if(s.cv_analysis_text.includes("API key"))return"La clave API de OpenAI no est\xE1 configurada en la Configuraci\xF3n de IA de RRHH";if(s.cv_analysis_text.includes("rate limit"))return"Se excedi\xF3 el l\xEDmite de velocidad de la API de OpenAI. Por favor espera e intenta nuevamente"}return"El an\xE1lisis fall\xF3. Por favor intenta nuevamente o revisa los registros de errores"},formatDate(s){if(!s)return"N/A";try{return new Date(s).toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return s}},loadApplicantData(){return h(this,null,function*(){if(!!this.effectiveJobApplicant){this.loadingApplicant=!0;try{const s=yield b("frappe.client.get",{doctype:"Job Applicant",name:this.effectiveJobApplicant});this.applicantData=s}catch(s){this.applicantData=null}finally{this.loadingApplicant=!1}}})},loadJobOpeningData(){return h(this,null,function*(){if(!!this.effectiveJobOpening){this.loadingJobOpening=!0;try{const s=yield b("frappe.client.get",{doctype:"Job Opening",name:this.effectiveJobOpening});this.jobOpeningData=s}catch(s){this.jobOpeningData=null}finally{this.loadingJobOpening=!1}}})},loadApplicantAndJobData(){return h(this,null,function*(){this.effectiveJobApplicant&&(yield this.loadApplicantData()),this.effectiveJobOpening&&(yield this.loadJobOpeningData())})},loadJobApplicantsList(){return h(this,null,function*(){this.loadingJobApplicants=!0;try{const s=yield b("frappe.client.get_list",{doctype:"Job Applicant",fields:["name","applicant_name","email_id","job_title","status"],limit_page_length:1e3,order_by:"modified desc"});this.jobApplicantsList=s||[]}catch(s){this.jobApplicantsList=[]}finally{this.loadingJobApplicants=!1}})},loadJobOpeningsList(){return h(this,null,function*(){this.loadingJobOpenings=!0;try{const s=yield b("frappe.client.get_list",{doctype:"Job Opening",fields:["name","job_title","designation","status","company"],limit_page_length:1e3,order_by:"modified desc"});this.jobOpeningsList=s||[]}catch(s){this.jobOpeningsList=[]}finally{this.loadingJobOpenings=!1}})},onJobApplicantChange(){return h(this,null,function*(){if(this.formJobApplicant){const s=this.jobApplicantsList.find(t=>t.name===this.formJobApplicant);if(s&&(this.applicantSearchText=s.applicant_name||s.name),yield this.loadApplicantData(),this.applicantData&&this.applicantData.job_title){this.formJobOpening=this.applicantData.job_title;const t=this.jobOpeningsList.find(l=>l.name===this.formJobOpening);t&&(this.openingSearchText=t.job_title||t.name),this.formJobOpening&&(yield this.loadJobOpeningData())}}else this.formJobOpening="",this.openingSearchText="",this.applicantData=null})},onJobOpeningChange(){return h(this,null,function*(){if(this.formJobOpening){const s=this.jobOpeningsList.find(t=>t.name===this.formJobOpening);s&&(this.openingSearchText=s.job_title||s.name),yield this.loadJobOpeningData(),this.formJobApplicant&&this.applicantData&&this.applicantData.job_title!==this.formJobOpening&&console.warn("Advertencia: El Solicitante de Empleo seleccionado no est\xE1 asociado con la Vacante seleccionada")}else this.openingSearchText="",this.jobOpeningData=null})},loadRecentAnalyses(){return h(this,null,function*(){try{const s=yield b("frappe.client.get_list",{doctype:"AI CV Analysis",fields:["name","job_applicant","job_opening","status","skills_match_percentage","experience_relevance","education_match","ai_confidence_score","analysis_timestamp"],limit_page_length:10,order_by:"analysis_timestamp desc"});if(s&&s.length>0){const t=[...new Set(s.map(a=>a.job_applicant).filter(Boolean))],l=[...new Set(s.map(a=>a.job_opening).filter(Boolean))];let d={},n={};if(t.length>0){const a=yield b("frappe.client.get_list",{doctype:"Job Applicant",fields:["name","applicant_name"],filters:[["name","in",t]]});d=Object.fromEntries(a.map(i=>[i.name,i.applicant_name]))}if(l.length>0){const a=yield b("frappe.client.get_list",{doctype:"Job Opening",fields:["name","job_title"],filters:[["name","in",l]]});n=Object.fromEntries(a.map(i=>[i.name,i.job_title]))}this.recentAnalyses=s.map(a=>J(j({},a),{candidate_name:d[a.job_applicant]||a.job_applicant,job_title:n[a.job_opening]||a.job_opening}))}else this.recentAnalyses=[]}catch(s){this.recentAnalyses=[]}})},getExperienceRating(){if(!this.analysis||this.analysis.experience_relevance===void 0||this.analysis.experience_relevance===null)return 0;const s=parseFloat(this.analysis.experience_relevance);return s<=1&&s>=0?Math.max(1,Math.min(5,Math.round(s*5))):s>1&&s<=5?Math.max(1,Math.min(5,Math.round(s))):0},getEducationRating(){if(!this.analysis||this.analysis.education_match===void 0||this.analysis.education_match===null)return 0;const s=parseFloat(this.analysis.education_match);return s<=1&&s>=0?Math.max(1,Math.min(5,Math.round(s*5))):s>1&&s<=5?Math.max(1,Math.min(5,Math.round(s))):0}}},V={class:"flex-1 p-6 bg-gray-50 overflow-y-auto h-full"},N={key:0,class:"mb-6"},F={class:"bg-white rounded-lg shadow p-6"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},B={class:"relative"},P={class:"flex gap-2"},q={class:"relative flex-1"},H=["placeholder","disabled"],U={key:0,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},K=["disabled"],G={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},X={key:0,class:"p-2"},Y={class:"text-xs text-gray-500 px-2 py-1 mb-1 font-semibold"},Z=["onMousedown"],Q={class:"font-medium text-gray-900"},W={class:"text-sm text-gray-500"},$={class:"text-xs text-gray-400 font-mono"},tt={key:1,class:"p-4 text-sm text-gray-500 text-center"},et={key:2,class:"p-4 text-sm text-gray-500 text-center"},st={key:1,class:"text-xs text-gray-500 mt-1"},nt={key:2,class:"text-xs text-green-600 mt-1"},it={class:"relative"},at={class:"flex gap-2"},lt={class:"relative flex-1"},ot=["placeholder","disabled"],rt={key:0,class:"absolute right-2 top-1/2 transform -translate-y-1/2"},pt=["disabled"],dt={key:0,class:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto"},gt={key:0,class:"p-2"},ct={class:"text-xs text-gray-500 px-2 py-1 mb-1 font-semibold"},ht=["onMousedown"],bt={class:"font-medium text-gray-900"},mt={class:"text-sm text-gray-500"},ut={class:"text-xs text-gray-400 font-mono"},yt={key:1,class:"p-4 text-sm text-gray-500 text-center"},ft={key:2,class:"p-4 text-sm text-gray-500 text-center"},xt={key:1,class:"text-xs text-gray-500 mt-1"},At={key:2,class:"text-xs text-green-600 mt-1"},_t=["disabled"],vt={key:0},wt={key:1},Ot={key:1,class:"mb-6"},Dt={class:"bg-white rounded-lg shadow p-6 mb-4"},jt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Jt={class:"border-r border-gray-200 pr-6"},It={class:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-200"},kt={class:"text-xs text-gray-500 font-mono ml-auto"},Ct={key:0,class:"space-y-2"},St={class:"text-sm"},Et={class:"text-gray-900"},Lt={class:"text-sm"},zt={class:"text-gray-900"},Tt={key:0,class:"text-sm"},Mt={class:"text-gray-900"},Vt={key:1,class:"text-sm"},Nt={class:"text-gray-900"},Ft={key:2,class:"text-sm"},Rt={class:"text-gray-900"},Bt={key:1,class:"text-sm text-gray-500 italic"},Pt={class:"flex items-center gap-3 mb-4 pb-3 border-b border-gray-200"},qt={class:"text-xs text-gray-500 font-mono ml-auto"},Ht={key:0,class:"space-y-2"},Ut={class:"text-sm"},Kt={class:"text-gray-900"},Gt={key:0,class:"text-sm"},Xt={class:"text-gray-900"},Yt={key:1,class:"text-sm"},Zt={class:"text-gray-900"},Qt={key:2,class:"text-sm"},Wt={class:"text-gray-900"},$t={key:3,class:"text-sm"},te={class:"text-gray-900"},ee={key:4,class:"text-sm"},se={class:"text-gray-900"},ne={key:5,class:"text-sm"},ie={class:"text-gray-900"},ae={key:1,class:"text-sm text-gray-500 italic"},le={class:"flex gap-3 flex-wrap"},oe=["disabled"],re={key:0},pe={key:1},de={key:2,class:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center justify-between"},ge={class:"flex items-center gap-3"},ce={class:"text-red-700"},he={key:3,class:"bg-white rounded-lg shadow p-6 mb-6"},be={key:0,class:"max-h-96 overflow-y-auto pr-2 space-y-3"},me=["onClick"],ue={class:"flex justify-between items-start mb-2"},ye={class:"flex-1"},fe={class:"font-medium text-gray-900 mb-1"},xe={class:"text-sm text-gray-600 mb-2"},Ae={key:0,class:"flex gap-4 text-sm"},_e={class:"text-gray-600"},ve={class:"text-gray-600"},we={class:"text-gray-600"},Oe={key:1,class:"text-xs text-gray-500 mt-2"},De={key:1,class:"text-center py-8 text-gray-500"},je={key:4,class:"bg-white rounded-lg shadow p-8 text-center mb-6"},Je={class:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6 text-left"},Ie={class:"mb-4"},ke={class:"text-sm text-gray-600 mb-2"},Ce={class:"w-full bg-gray-200 rounded-full h-2"},Se={key:5,class:"space-y-6"},Ee={class:"bg-white rounded-lg shadow p-6"},Le={class:"flex justify-between items-center mb-4 pb-4 border-b border-gray-200"},ze={key:0,class:"text-xl font-semibold text-gray-900"},Te={key:1,class:"text-xl font-semibold text-gray-900"},Me={key:2,class:"text-xl font-semibold text-gray-900"},Ve={key:3,class:"text-xl font-semibold text-gray-900"},Ne={key:4,class:"text-sm text-gray-500"},Fe={class:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6 text-sm text-blue-900"},Re={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},Be={class:"bg-gray-50 rounded-lg p-4"},Pe={class:"text-3xl font-bold text-gray-900 mb-2"},qe={class:"w-full bg-gray-200 rounded-full h-2"},He={class:"bg-gray-50 rounded-lg p-4"},Ue={class:"text-2xl mb-2"},Ke={class:"text-sm font-semibold text-gray-700"},Ge={class:"bg-gray-50 rounded-lg p-4"},Xe={class:"text-2xl mb-2"},Ye={class:"text-sm font-semibold text-gray-700"},Ze={class:"bg-gray-50 rounded-lg p-4"},Qe={class:"text-3xl font-bold text-gray-900 mb-2"},We={class:"w-full bg-gray-200 rounded-full h-2"},$e={class:"bg-gray-50 rounded-lg p-6 mb-6"},ts=["innerHTML"],es={key:1,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-yellow-800"},ss={class:"bg-gray-50 rounded-lg p-6"},ns={class:"text-gray-700 leading-relaxed"},is={key:0},as={key:1,class:"text-gray-500 italic"};function ls(s,t,l,d,n,a){return o(),r("div",V,[t[91]||(t[91]=e("div",{class:"mb-8"},[e("h2",{class:"text-2xl font-semibold text-gray-900 mb-2"},"\u{1F4C4} An\xE1lisis de CV con IA"),e("p",{class:"text-sm text-gray-600"},"Analiza CVs de candidatos usando IA para evaluar la adecuaci\xF3n y coincidencia de habilidades")],-1)),!a.effectiveJobApplicant||!a.effectiveJobOpening?(o(),r("div",N,[e("div",F,[t[31]||(t[31]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"\u{1F4DD} Ingresar Detalles del An\xE1lisis",-1)),t[32]||(t[32]=e("p",{class:"text-sm text-gray-600 mb-6"},"Selecciona un Solicitante de Empleo y una Vacante de los men\xFAs desplegables a continuaci\xF3n. La Vacante se completar\xE1 autom\xE1ticamente cuando selecciones un Solicitante de Empleo.",-1)),e("div",R,[e("div",B,[t[28]||(t[28]=e("label",{for:"job-applicant-input",class:"block text-sm font-medium text-gray-700 mb-2"},[e("span",null,"\u{1F464}"),g(" Solicitante de Empleo ")],-1)),e("div",P,[e("div",q,[I(e("input",{id:"job-applicant-input",type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>n.applicantSearchText=i),onInput:t[1]||(t[1]=(...i)=>a.onApplicantSearchInput&&a.onApplicantSearchInput(...i)),onFocus:t[2]||(t[2]=(...i)=>a.onApplicantFocus&&a.onApplicantFocus(...i)),onBlur:t[3]||(t[3]=(...i)=>a.handleApplicantBlur&&a.handleApplicantBlur(...i)),onKeydown:[t[4]||(t[4]=f(x((...i)=>a.handleApplicantEnter&&a.handleApplicantEnter(...i),["prevent"]),["enter"])),t[5]||(t[5]=f(i=>n.showApplicantDropdown=!1,["escape"])),t[6]||(t[6]=f(x(i=>a.navigateApplicantDropdown(1),["prevent"]),["down"])),t[7]||(t[7]=f(x(i=>a.navigateApplicantDropdown(-1),["prevent"]),["up"]))],placeholder:n.formJobApplicant?"Escribe el ID o nombre del Solicitante...":"Escribe el ID o nombre del Solicitante manualmente...",disabled:n.loadingJobApplicants,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"},null,40,H),[[k,n.applicantSearchText]]),n.formJobApplicant?(o(),r("div",U,[e("button",{onClick:t[8]||(t[8]=(...i)=>a.clearApplicant&&a.clearApplicant(...i)),class:"text-gray-400 hover:text-gray-600",type:"button"}," \u2715 ")])):c("",!0)]),e("button",{type:"button",onClick:t[9]||(t[9]=(...i)=>a.toggleApplicantDropdown&&a.toggleApplicantDropdown(...i)),disabled:n.loadingJobApplicants,class:"px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",title:"Explorar lista de solicitantes"},[...t[27]||(t[27]=[e("span",{class:"text-lg"},"\u25BC",-1)])],8,K)]),n.showApplicantDropdown?(o(),r("div",G,[a.filteredApplicants.length>0?(o(),r("div",X,[e("div",Y,"Seleccionar de la lista ("+p(a.filteredApplicants.length)+" resultados):",1),(o(!0),r(A,null,_(a.filteredApplicants,(i,y)=>(o(),r("div",{key:i.name,onMousedown:x(m=>a.selectApplicant(i),["prevent"]),class:u(["px-4 py-2 cursor-pointer border-b border-gray-100 last:border-b-0",y===n.highlightedApplicantIndex?"bg-blue-100":"hover:bg-blue-50"])},[e("div",Q,p(i.applicant_name||i.name),1),e("div",W,p(i.email_id||""),1),e("div",$,p(i.name),1)],42,Z))),128))])):n.applicantSearchText?(o(),r("div",tt,' No se encontraron solicitantes que coincidan con "'+p(n.applicantSearchText)+'" ',1)):(o(),r("div",et," Comienza a escribir para buscar, o despl\xE1zate para explorar todos los solicitantes "))])):c("",!0),n.loadingJobApplicants?(o(),r("p",st,"Cargando solicitantes...")):c("",!0),n.formJobApplicant&&!n.loadingJobApplicants?(o(),r("p",nt," \u2713 Seleccionado: "+p(a.getApplicantDisplayName(n.formJobApplicant)),1)):c("",!0)]),e("div",it,[t[30]||(t[30]=e("label",{for:"job-opening-input",class:"block text-sm font-medium text-gray-700 mb-2"},[e("span",null,"\u{1F4BC}"),g(" Vacante ")],-1)),e("div",at,[e("div",lt,[I(e("input",{id:"job-opening-input",type:"text","onUpdate:modelValue":t[10]||(t[10]=i=>n.openingSearchText=i),onInput:t[11]||(t[11]=(...i)=>a.onOpeningSearchInput&&a.onOpeningSearchInput(...i)),onFocus:t[12]||(t[12]=(...i)=>a.onOpeningFocus&&a.onOpeningFocus(...i)),onBlur:t[13]||(t[13]=(...i)=>a.handleOpeningBlur&&a.handleOpeningBlur(...i)),onKeydown:[t[14]||(t[14]=f(x((...i)=>a.handleOpeningEnter&&a.handleOpeningEnter(...i),["prevent"]),["enter"])),t[15]||(t[15]=f(i=>n.showOpeningDropdown=!1,["escape"])),t[16]||(t[16]=f(x(i=>a.navigateOpeningDropdown(1),["prevent"]),["down"])),t[17]||(t[17]=f(x(i=>a.navigateOpeningDropdown(-1),["prevent"]),["up"]))],placeholder:n.formJobOpening?"Escribe el ID o nombre de la Vacante...":"Escribe el ID o nombre de la Vacante manualmente...",disabled:n.loadingJobOpenings,class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"},null,40,ot),[[k,n.openingSearchText]]),n.formJobOpening?(o(),r("div",rt,[e("button",{onClick:t[18]||(t[18]=(...i)=>a.clearOpening&&a.clearOpening(...i)),class:"text-gray-400 hover:text-gray-600",type:"button"}," \u2715 ")])):c("",!0)]),e("button",{type:"button",onClick:t[19]||(t[19]=(...i)=>a.toggleOpeningDropdown&&a.toggleOpeningDropdown(...i)),disabled:n.loadingJobOpenings,class:"px-4 py-2 border border-gray-300 rounded-lg bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",title:"Explorar lista de vacantes"},[...t[29]||(t[29]=[e("span",{class:"text-lg"},"\u25BC",-1)])],8,pt)]),n.showOpeningDropdown?(o(),r("div",dt,[a.filteredOpenings.length>0?(o(),r("div",gt,[e("div",ct,"Seleccionar de la lista ("+p(a.filteredOpenings.length)+" resultados):",1),(o(!0),r(A,null,_(a.filteredOpenings,(i,y)=>(o(),r("div",{key:i.name,onMousedown:x(m=>a.selectOpening(i),["prevent"]),class:u(["px-4 py-2 cursor-pointer border-b border-gray-100 last:border-b-0",y===n.highlightedOpeningIndex?"bg-blue-100":"hover:bg-blue-50"])},[e("div",bt,p(i.job_title||i.name),1),e("div",mt,p(i.designation||""),1),e("div",ut,p(i.name),1)],42,ht))),128))])):n.openingSearchText?(o(),r("div",yt,' No se encontraron vacantes que coincidan con "'+p(n.openingSearchText)+'" ',1)):(o(),r("div",ft," Comienza a escribir para buscar, o despl\xE1zate para explorar todas las vacantes "))])):c("",!0),n.loadingJobOpenings?(o(),r("p",xt,"Cargando vacantes...")):c("",!0),n.formJobOpening&&!n.loadingJobOpenings?(o(),r("p",At," \u2713 Seleccionado: "+p(a.getOpeningDisplayName(n.formJobOpening)),1)):c("",!0)])]),e("button",{onClick:t[20]||(t[20]=(...i)=>a.startAnalysis&&a.startAnalysis(...i)),disabled:!a.canAnalyze||n.isAnalyzing,class:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg font-semibold hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"},[n.isAnalyzing?(o(),r("span",vt,"\u{1F504} Analizando...")):(o(),r("span",wt,"\u{1F680} Iniciar An\xE1lisis con IA"))],8,_t)])])):(o(),r("div",Ot,[e("div",Dt,[e("div",jt,[e("div",Jt,[e("div",It,[t[33]||(t[33]=e("span",{class:"text-2xl"},"\u{1F464}",-1)),t[34]||(t[34]=e("h4",{class:"text-lg font-semibold text-gray-900"},"Solicitante de Empleo",-1)),e("span",kt,p(a.effectiveJobApplicant),1)]),n.applicantData?(o(),r("div",Ct,[e("p",St,[t[35]||(t[35]=e("span",{class:"font-medium text-gray-700"},"Nombre:",-1)),t[36]||(t[36]=g()),e("span",Et,p(n.applicantData.applicant_name||"N/A"),1)]),e("p",Lt,[t[37]||(t[37]=e("span",{class:"font-medium text-gray-700"},"Correo:",-1)),t[38]||(t[38]=g()),e("span",zt,p(n.applicantData.email_id||"N/A"),1)]),n.applicantData.phone_number?(o(),r("p",Tt,[t[39]||(t[39]=e("span",{class:"font-medium text-gray-700"},"Tel\xE9fono:",-1)),t[40]||(t[40]=g()),e("span",Mt,p(n.applicantData.phone_number),1)])):c("",!0),n.applicantData.designation?(o(),r("p",Vt,[t[41]||(t[41]=e("span",{class:"font-medium text-gray-700"},"Designaci\xF3n:",-1)),t[42]||(t[42]=g()),e("span",Nt,p(n.applicantData.designation),1)])):c("",!0),n.applicantData.status?(o(),r("p",Ft,[t[43]||(t[43]=e("span",{class:"font-medium text-gray-700"},"Estado:",-1)),t[44]||(t[44]=g()),e("span",Rt,p(n.applicantData.status),1)])):c("",!0)])):(o(),r("div",Bt,"Cargando datos del solicitante..."))]),e("div",null,[e("div",Pt,[t[45]||(t[45]=e("span",{class:"text-2xl"},"\u{1F4BC}",-1)),t[46]||(t[46]=e("h4",{class:"text-lg font-semibold text-gray-900"},"Vacante",-1)),e("span",qt,p(a.effectiveJobOpening),1)]),n.jobOpeningData?(o(),r("div",Ht,[e("p",Ut,[t[47]||(t[47]=e("span",{class:"font-medium text-gray-700"},"T\xEDtulo:",-1)),t[48]||(t[48]=g()),e("span",Kt,p(n.jobOpeningData.job_title||"N/A"),1)]),n.jobOpeningData.designation?(o(),r("p",Gt,[t[49]||(t[49]=e("span",{class:"font-medium text-gray-700"},"Designaci\xF3n:",-1)),t[50]||(t[50]=g()),e("span",Xt,p(n.jobOpeningData.designation),1)])):c("",!0),n.jobOpeningData.company?(o(),r("p",Yt,[t[51]||(t[51]=e("span",{class:"font-medium text-gray-700"},"Empresa:",-1)),t[52]||(t[52]=g()),e("span",Zt,p(n.jobOpeningData.company),1)])):c("",!0),n.jobOpeningData.department?(o(),r("p",Qt,[t[53]||(t[53]=e("span",{class:"font-medium text-gray-700"},"Departamento:",-1)),t[54]||(t[54]=g()),e("span",Wt,p(n.jobOpeningData.department),1)])):c("",!0),n.jobOpeningData.location?(o(),r("p",$t,[t[55]||(t[55]=e("span",{class:"font-medium text-gray-700"},"Ubicaci\xF3n:",-1)),t[56]||(t[56]=g()),e("span",te,p(n.jobOpeningData.location),1)])):c("",!0),n.jobOpeningData.employment_type?(o(),r("p",ee,[t[57]||(t[57]=e("span",{class:"font-medium text-gray-700"},"Tipo:",-1)),t[58]||(t[58]=g()),e("span",se,p(n.jobOpeningData.employment_type),1)])):c("",!0),n.jobOpeningData.status?(o(),r("p",ne,[t[59]||(t[59]=e("span",{class:"font-medium text-gray-700"},"Estado:",-1)),t[60]||(t[60]=g()),e("span",ie,p(n.jobOpeningData.status),1)])):c("",!0)])):(o(),r("div",ae,"Cargando datos de la vacante..."))])])]),e("div",le,[e("button",{onClick:t[21]||(t[21]=(...i)=>a.analyzeCV&&a.analyzeCV(...i)),disabled:n.isAnalyzing,class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed"},[n.isAnalyzing?(o(),r("span",re,"\u{1F504} Analizando...")):(o(),r("span",pe,"\u{1F50D} Analizar CV"))],8,oe),e("button",{onClick:t[22]||(t[22]=(...i)=>a.clearInputs&&a.clearInputs(...i)),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},"Cambiar IDs"),n.analysis?(o(),r("button",{key:0,onClick:t[23]||(t[23]=(...i)=>a.reloadAnalysis&&a.reloadAnalysis(...i)),class:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"},"\u{1F504} Recargar")):c("",!0)])])),n.error?(o(),r("div",de,[e("div",ge,[t[62]||(t[62]=e("span",{class:"text-xl"},"\u26A0\uFE0F",-1)),e("div",null,[t[61]||(t[61]=e("strong",{class:"text-red-800"},"Error:",-1)),e("span",ce,p(n.error),1)])]),e("button",{onClick:t[24]||(t[24]=(...i)=>a.clearError&&a.clearError(...i)),class:"text-red-600 hover:text-red-800"},"\u2715")])):c("",!0),!n.isAnalyzing&&!n.analysis&&!a.effectiveJobApplicant&&!a.effectiveJobOpening?(o(),r("div",he,[t[67]||(t[67]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4CA} An\xE1lisis de CV Recientes",-1)),n.recentAnalyses.length>0?(o(),r("div",be,[(o(!0),r(A,null,_(n.recentAnalyses,i=>(o(),r("div",{key:i.name,onClick:y=>a.loadAnalysis(i.name),class:"p-4 border border-gray-200 rounded-lg hover:bg-blue-50 hover:border-blue-300 cursor-pointer transition-colors"},[e("div",ue,[e("div",ye,[e("div",fe,p(i.candidate_name||i.job_applicant||"Candidato Desconocido"),1),e("div",xe,p(i.job_title||i.job_opening||"Trabajo Desconocido"),1)]),e("span",{class:u(["px-2 py-1 rounded-full text-xs font-medium",i.status==="Completed"?"bg-green-100 text-green-800":i.status==="Analyzing"?"bg-yellow-100 text-yellow-800":i.status==="Failed"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"])},p(i.status),3)]),i.status==="Completed"?(o(),r("div",Ae,[e("div",_e,[t[63]||(t[63]=e("span",{class:"font-medium"},"Habilidades:",-1)),g(" "+p(i.skills_match_percentage||0)+"% ",1)]),e("div",ve,[t[64]||(t[64]=e("span",{class:"font-medium"},"Experiencia:",-1)),g(" "+p(i.experience_relevance||0)+"/5 ",1)]),e("div",we,[t[65]||(t[65]=e("span",{class:"font-medium"},"Confianza:",-1)),g(" "+p(i.ai_confidence_score||0)+"% ",1)])])):c("",!0),i.analysis_timestamp?(o(),r("div",Oe,p(a.formatDate(i.analysis_timestamp)),1)):c("",!0)],8,me))),128))])):(o(),r("div",De,[...t[66]||(t[66]=[e("div",{class:"text-4xl mb-3"},"\u{1F4ED}",-1),e("p",null,"No se encontraron an\xE1lisis de CV recientes.",-1),e("p",{class:"text-sm mt-2"},"Comienza a analizar CVs para verlos aqu\xED.",-1)])]))])):c("",!0),n.isAnalyzing&&!n.analysis?(o(),r("div",je,[t[72]||(t[72]=e("div",{class:"relative inline-block mb-6"},[e("div",{class:"w-16 h-16 border-4 border-gray-200 border-t-blue-500 rounded-full animate-spin"})],-1)),t[73]||(t[73]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"\u{1F916} La IA est\xE1 Analizando el CV...",-1)),t[74]||(t[74]=e("p",{class:"text-sm text-gray-600 mb-6"},"Este es un an\xE1lisis real usando OpenAI GPT-4",-1)),e("div",Je,[e("div",{class:u(["p-3 rounded-lg",n.pollingAttempts>0?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-500"])},[...t[68]||(t[68]=[e("span",{class:"mr-2"},"\u2713",-1),g(" Solicitud en cola ",-1)])],2),e("div",{class:u(["p-3 rounded-lg",n.pollingAttempts>2?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-500"])},[...t[69]||(t[69]=[e("span",{class:"mr-2"},"\u23F3",-1),g(" Procesando CV ",-1)])],2),e("div",{class:u(["p-3 rounded-lg",n.pollingAttempts>5?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-500"])},[...t[70]||(t[70]=[e("span",{class:"mr-2"},"\u23F3",-1),g(" Llamando a OpenAI ",-1)])],2),e("div",{class:u(["p-3 rounded-lg",n.pollingAttempts>8?"bg-blue-50 text-blue-700":"bg-gray-50 text-gray-500"])},[...t[71]||(t[71]=[e("span",{class:"mr-2"},"\u23F3",-1),g(" Analizando resultados ",-1)])],2)]),e("div",Ie,[e("p",ke,"Verificando estado... ("+p(n.pollingAttempts)+"/30 intentos, ~"+p(Math.round(n.pollingAttempts*2))+"s transcurridos)",1),e("div",Ce,[e("div",{class:"bg-blue-500 h-2 rounded-full transition-all",style:w({width:Math.min(n.pollingAttempts/30*100,100)+"%"})},null,4)])]),n.pollingAttempts>5?(o(),r("button",{key:0,onClick:t[25]||(t[25]=(...i)=>a.cancelAnalysis&&a.cancelAnalysis(...i)),class:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600"},"Cancelar An\xE1lisis")):c("",!0)])):c("",!0),n.analysis?(o(),r("div",Se,[e("div",Ee,[e("div",Le,[n.analysis.status==="Completed"?(o(),r("h3",ze,"\u2705 An\xE1lisis Completado")):n.analysis.status==="Analyzing"?(o(),r("h3",Te,"\u23F3 An\xE1lisis en Progreso")):n.analysis.status==="Failed"?(o(),r("h3",Me,"\u274C An\xE1lisis Fallido")):(o(),r("h3",Ve,"\u{1F4CA} An\xE1lisis (Estado: "+p(n.analysis.status)+")",1)),n.analysis.analysis_timestamp?(o(),r("div",Ne," Analizado el "+p(a.formatDate(n.analysis.analysis_timestamp)),1)):c("",!0)]),e("div",Fe,[t[81]||(t[81]=e("p",{class:"font-semibold mb-2"},"\u{1F50D} Informaci\xF3n de Depuraci\xF3n:",-1)),e("p",null,[t[75]||(t[75]=e("strong",null,"Estado:",-1)),g(" "+p(n.analysis.status),1)]),e("p",null,[t[76]||(t[76]=e("strong",null,"ID del An\xE1lisis:",-1)),g(" "+p(n.analysis.name),1)]),e("p",null,[t[77]||(t[77]=e("strong",null,"Tiene texto:",-1)),g(" "+p(n.analysis.cv_analysis_text?"S\xED ("+n.analysis.cv_analysis_text.length+" caracteres)":"No"),1)]),e("p",null,[t[78]||(t[78]=e("strong",null,"Habilidades:",-1)),g(" "+p(n.analysis.skills_match_percentage||"N/A")+"%",1)]),e("p",null,[t[79]||(t[79]=e("strong",null,"Experiencia:",-1)),g(" "+p(n.analysis.experience_relevance||"N/A"),1)]),e("p",null,[t[80]||(t[80]=e("strong",null,"Educaci\xF3n:",-1)),g(" "+p(n.analysis.education_match||"N/A"),1)])]),e("div",Re,[e("div",Be,[t[82]||(t[82]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-xl"},"\u{1F3AF}"),e("h4",{class:"text-sm font-medium text-gray-700"},"Coincidencia de Habilidades")],-1)),e("div",Pe,p(n.analysis.skills_match_percentage||0)+"%",1),e("div",qe,[e("div",{class:"bg-blue-500 h-2 rounded-full",style:w({width:(n.analysis.skills_match_percentage||0)+"%"})},null,4)])]),e("div",He,[t[83]||(t[83]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-xl"},"\u{1F4BC}"),e("h4",{class:"text-sm font-medium text-gray-700"},"Experiencia")],-1)),e("div",Ue,[(o(),r(A,null,_(5,i=>e("span",{key:i,class:u(i<=a.getExperienceRating()?"text-yellow-500":"text-gray-300")},"\u2605",2)),64))]),e("div",Ke,p(a.getExperienceRating())+"/5",1)]),e("div",Ge,[t[84]||(t[84]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-xl"},"\u{1F393}"),e("h4",{class:"text-sm font-medium text-gray-700"},"Educaci\xF3n")],-1)),e("div",Xe,[(o(),r(A,null,_(5,i=>e("span",{key:i,class:u(i<=a.getEducationRating()?"text-yellow-500":"text-gray-300")},"\u2605",2)),64))]),e("div",Ye,p(a.getEducationRating())+"/5",1)]),e("div",Ze,[t[85]||(t[85]=e("div",{class:"flex items-center gap-2 mb-2"},[e("span",{class:"text-xl"},"\u{1F4CA}"),e("h4",{class:"text-sm font-medium text-gray-700"},"Confianza de la IA")],-1)),e("div",Qe,p(n.analysis.ai_confidence_score||0)+"%",1),e("div",We,[e("div",{class:"bg-green-500 h-2 rounded-full",style:w({width:(n.analysis.ai_confidence_score||0)+"%"})},null,4)])])]),e("div",$e,[t[89]||(t[89]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4CB} An\xE1lisis Detallado de la IA",-1)),n.analysis.cv_analysis_text&&n.analysis.cv_analysis_text.trim().length>0?(o(),r("div",{key:0,class:"text-gray-700 leading-relaxed whitespace-pre-wrap",innerHTML:n.analysis.cv_analysis_text},null,8,ts)):(o(),r("div",es,[t[86]||(t[86]=e("p",{class:"font-semibold mb-2"},"\u26A0\uFE0F El an\xE1lisis se complet\xF3 pero no se gener\xF3 texto detallado.",-1)),t[87]||(t[87]=e("p",{class:"text-sm mb-2"},"Esto podr\xEDa suceder si:",-1)),t[88]||(t[88]=e("ul",{class:"text-sm list-disc list-inside mb-3"},[e("li",null,"La respuesta de la IA estaba incompleta"),e("li",null,"Hubo un error al analizar la respuesta de la IA"),e("li",null,"Los datos del an\xE1lisis a\xFAn se est\xE1n procesando")],-1)),e("button",{onClick:t[26]||(t[26]=(...i)=>a.reloadAnalysis&&a.reloadAnalysis(...i)),class:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600"},"\u{1F504} Recargar An\xE1lisis")]))]),e("div",ss,[t[90]||(t[90]=e("h4",{class:"text-lg font-semibold text-gray-900 mb-4 pb-3 border-b border-gray-200"},"\u{1F4A1} Recomendaciones de la IA",-1)),e("div",ns,[n.analysis.ai_recommendations&&n.analysis.ai_recommendations.trim().length>0?(o(),r("p",is,p(n.analysis.ai_recommendations),1)):(o(),r("p",as," \u26A0\uFE0F No se generaron recomendaciones para este an\xE1lisis. "))])])])])):c("",!0)])}var ps=T(M,[["render",ls],["__scopeId","data-v-f50261c2"]]);export{ps as default};
