import{q as h,l as k,o,c as r,b as e,u as t,d,w as i,C as x,f as c,U as _,e as p,t as l,_ as g,F as f,E as y,s as b,W as U}from"./vendor.b007e8f2.js";import{u as n,s as w}from"./index.b31286db.js";const E={class:"px-5 py-6 sm:px-8"},N={class:"mb-6 flex flex-col justify-between sm:flex-row sm:items-center"},j={key:0,class:"mt-4 sm:mt-0"},C={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},B={class:"flex items-center gap-2"},I={class:"space-y-4 p-4"},S={class:"flex items-center gap-4"},V={class:"flex h-20 w-20 items-center justify-center rounded-full bg-gray-100 text-2xl font-semibold text-gray-600"},D={class:"text-lg font-semibold text-gray-900"},F={class:"text-sm text-gray-500"},L={class:"border-t pt-4"},P={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},R={class:"mt-1 text-sm text-gray-900"},q={class:"mt-1 flex flex-wrap gap-1"},z={key:0,class:"text-xs text-gray-500"},A={class:"flex items-center gap-2"},M={class:"p-4"},T={key:0,class:"flex justify-center py-8"},W={key:1,class:"rounded-md bg-red-50 p-4 text-red-700"},$={key:0,class:"text-xs mt-1"},G={key:2,class:"py-8 text-center text-gray-500"},H={key:3,class:"space-y-4"},J={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},K={class:"mt-1 text-sm font-medium text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},Q={class:"mt-1 text-sm text-gray-900"},X={class:"mt-1 text-sm text-gray-900"},Y={class:"mt-1 text-sm text-gray-900"},Z={class:"mt-1 text-sm text-gray-900"},ee={class:"mt-1 text-sm text-gray-900"},te={class:"mt-1 text-sm text-gray-900"},se={key:0,class:"border-t pt-4 mt-4"},ae={class:"block text-xs font-medium uppercase text-gray-500 mb-2"},le={class:"flex flex-wrap gap-2"},ie={__name:"Profile",setup(oe){const v=h(()=>{const u=n().getUser("sessionUser").full_name;return u?u.split(" ").map(s=>s[0]).join("").substring(0,2).toUpperCase():"?"}),a=k({url:"portal_rrhh.api.employee.get_current_employee",auto:!0});return(u,s)=>(o(),r("div",E,[e("div",N,[s[0]||(s[0]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"Mi Perfil"),e("p",{class:"text-base text-gray-500"}," Detalles de tu cuenta y perfil de empleado ")],-1)),t(a).data&&t(a).data.status?(o(),r("div",j,[d(t(x),{theme:t(a).data.status==="Active"?"green":t(a).data.status==="Left"?"red":"orange",size:"lg"},{default:i(()=>[p(l(t(a).data.status),1)]),_:1},8,["theme"])])):c("",!0)]),e("div",C,[d(t(_),{class:"h-full"},{header:i(()=>[e("div",B,[d(t(g),{name:"user",class:"h-5 w-5 text-gray-500"}),s[1]||(s[1]=e("span",{class:"text-lg font-medium"},"Cuenta de Usuario",-1))])]),default:i(()=>[e("div",I,[e("div",S,[e("div",V,l(v.value),1),e("div",null,[e("h3",D,l(t(w)().user),1),e("p",F,l(t(n)().getUser("sessionUser").full_name||"Sin nombre"),1)])]),e("div",L,[e("div",P,[e("div",null,[s[2]||(s[2]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Email",-1)),e("div",R,l(t(n)().getUser("sessionUser").email||"No disponible"),1)]),e("div",null,[s[3]||(s[3]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Roles",-1)),e("div",q,[(o(!0),r(f,null,y((t(n)().getUser("sessionUser").roles||[]).slice(0,3),m=>(o(),b(t(x),{key:m,theme:"gray"},{default:i(()=>[p(l(m),1)]),_:2},1024))),128)),(t(n)().getUser("sessionUser").roles||[]).length>3?(o(),r("span",z,"+"+l(t(n)().getUser("sessionUser").roles.length-3),1)):c("",!0)])])])])])]),_:1}),d(t(_),{class:"h-full"},{header:i(()=>[e("div",A,[d(t(g),{name:"briefcase",class:"h-5 w-5 text-gray-500"}),s[4]||(s[4]=e("span",{class:"text-lg font-medium"},"Informaci\xF3n de Empleado",-1))])]),default:i(()=>[e("div",M,[t(a).loading?(o(),r("div",T,[d(t(U))])):t(a).error?(o(),r("div",W,[s[5]||(s[5]=e("p",null,"No se pudo cargar la informaci\xF3n del empleado.",-1)),t(a).error.message?(o(),r("p",$,l(t(a).error.message),1)):c("",!0)])):t(a).data?(o(),r("div",H,[e("div",J,[e("div",null,[s[7]||(s[7]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Nombre Completo",-1)),e("div",K,l(t(a).data.employee_name),1)]),e("div",null,[s[8]||(s[8]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"N\xFAmero de Empleado",-1)),e("div",O,l(t(a).data.employee_number||"-"),1)]),e("div",null,[s[9]||(s[9]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Departamento",-1)),e("div",Q,l(t(a).data.department||"-"),1)]),e("div",null,[s[10]||(s[10]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Puesto",-1)),e("div",X,l(t(a).data.designation||"-"),1)]),e("div",null,[s[11]||(s[11]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Reporta a",-1)),e("div",Y,l(t(a).data.reports_to||"-"),1)]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Fecha de Ingreso",-1)),e("div",Z,l(t(a).data.date_of_joining||"-"),1)]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Empresa",-1)),e("div",ee,l(t(a).data.company||"-"),1)]),e("div",null,[s[14]||(s[14]=e("label",{class:"block text-xs font-medium uppercase text-gray-500"},"Email Empresa",-1)),e("div",te,l(t(a).data.company_email||"-"),1)])]),t(a).data.companies&&t(a).data.companies.length>0?(o(),r("div",se,[e("label",ae,l(t(a).data.status_text),1),e("div",le,[(o(!0),r(f,null,y(t(a).data.companies,m=>(o(),b(t(x),{key:m,theme:"blue"},{default:i(()=>[p(l(m),1)]),_:2},1024))),128))])])):c("",!0)])):(o(),r("div",G,[d(t(g),{name:"alert-circle",class:"mx-auto mb-2 h-8 w-8 text-gray-400"}),s[6]||(s[6]=e("p",null,"Este usuario no tiene un perfil de empleado asociado.",-1))]))])]),_:1})])]))}};export{ie as default};
